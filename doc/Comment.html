<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>
  Class: Comment
  
    &mdash; Documentation by YARD 0.7.4
  
</title>

  <link rel="stylesheet" href="css/style.css" type="text/css" media="screen" charset="utf-8" />

  <link rel="stylesheet" href="css/common.css" type="text/css" media="screen" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  relpath = '';
  if (relpath != '') relpath += '/';
</script>

  <script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/app.js"></script>


  </head>
  <body>
    <script type="text/javascript" charset="utf-8">
      if (window.top.frames.main) document.body.className = 'frames';
    </script>
    
    <div id="header">
      <div id="menu">
  
    <a href="_index.html">Index (C)</a> &raquo; 
    
    
    <span class="title">Comment</span>
  
  
  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  
    <a id="class_list_link" href="#">Class List</a>
  
    <a id="method_list_link" href="#">Method List</a>
  
    <a id="file_list_link" href="#">File List</a>
  
</div>
      <div class="clear"></div>
    </div>
    
    <iframe id="search_frame"></iframe>
    
    <div id="content"><h1>Class: Comment
  
  
  
</h1>

<dl class="box">
  
    <dt class="r1">Inherits:</dt>
    <dd class="r1">
      <span class="inheritName">ActiveRecord::Base</span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next">ActiveRecord::Base</li>
          
            <li class="next">Comment</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
      </dd>
    
  
  
    
  
    
  
  
  
    <dt class="r2 last">Defined in:</dt>
    <dd class="r2 last">app/models/comment.rb</dd>
  
</dl>
<div class="clear"></div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    <p>
The comment model handles showing, adding, and deleting comments and flags,
and summaries of comments and flags.
</p>


  </div>
</div>
<div class="tags">
  

</div>

  


  

  
    <h2>
      Class Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#get_comments_and_flags-class_method" title="get_comments_and_flags (class method)">+ (Array) <strong>get_comments_and_flags</strong>(section_name, section_id, field_name, study_id, project_id, show_both, sort_by) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
returns an array of all comments and flags on a particular section.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#get_edit_url-class_method" title="get_edit_url (class method)">+ (String) <strong>get_edit_url</strong>(comment) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
returns a url to edit the comment based on the comment.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#get_field_string-class_method" title="get_field_string (class method)">+ (String) <strong>get_field_string</strong>(comment_id) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
returns a string of the field name based on the comment_id.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#get_location_string-class_method" title="get_location_string (class method)">+ (String) <strong>get_location_string</strong>(comment_id) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
for project summary shows all information about where the comment is
located in one string.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#get_number_of_comments-class_method" title="get_number_of_comments (class method)">+ (Integer) <strong>get_number_of_comments</strong>(section_name, section_id, field_name, study_id, project_id, show_both) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
get number of comments based on variables given (from the page or section),
and whether to show both (show_both) - both public and private.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#get_number_of_flags-class_method" title="get_number_of_flags (class method)">+ (Integer) <strong>get_number_of_flags</strong>(section_name, section_id, field_name, study_id, project_id, show_both) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
get number of flags based on variables given (from the page or section) 
and whether to show both (show_both) - both public and private.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#get_number_of_private_comments-class_method" title="get_number_of_private_comments (class method)">+ (Integer) <strong>get_number_of_private_comments</strong>(section_name, section_id, field_name, study_id, project_id) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
get number of private comments based on variables given (from the page or
section).
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#get_number_of_private_project_comments-class_method" title="get_number_of_private_project_comments (class method)">+ (Integer) <strong>get_number_of_private_project_comments</strong>(project_id) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
returns the number of private comments on a particular project for the
project comment/flag summary.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#get_number_of_project_comments-class_method" title="get_number_of_project_comments (class method)">+ (Integer) <strong>get_number_of_project_comments</strong>(project_id, show_both) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
returns the number of all comments on a particular project,  dependent on
whether to show both public and private (show_both) for the project
comment/flag summary.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#get_number_of_project_flags-class_method" title="get_number_of_project_flags (class method)">+ (Integer) <strong>get_number_of_project_flags</strong>(project_id, show_both) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
returns the number of all flags on a particular project,  dependent on
whether to show both public and private (show_both) for the project
comment/flag summary.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#get_number_of_public_comments-class_method" title="get_number_of_public_comments (class method)">+ (Integer) <strong>get_number_of_public_comments</strong>(section_name, section_id, field_name, study_id, project_id) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
get number of public comments based on variables given (from the page or
section).
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#get_number_of_public_project_comments-class_method" title="get_number_of_public_project_comments (class method)">+ (Integer) <strong>get_number_of_public_project_comments</strong>(project_id) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
returns the number of public comments on a particular project for the
project comment/flag summary.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#get_project_comments_and_flags-class_method" title="get_project_comments_and_flags (class method)">+ (Array) <strong>get_project_comments_and_flags</strong>(project_id, show_both, sort_by) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
returns an array of all comments on a particular project, dependent on
whether to show both public and private (show_both) and how to sort them
(sort_by).
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#get_project_string-class_method" title="get_project_string (class method)">+ (String) <strong>get_project_string</strong>(comment_id) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
returns a string of the project name based on the comment_id.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#get_section_string-class_method" title="get_section_string (class method)">+ (String) <strong>get_section_string</strong>(comment_id) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
returns a string of the section name based on the comment_id.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#get_study_string-class_method" title="get_study_string (class method)">+ (String) <strong>get_study_string</strong>(comment_id) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
returns a string of the study name based on the comment_id.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#get_view_open_study-class_method" title="get_view_open_study (class method)">+ (boolean) <strong>get_view_open_study</strong>(comment) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
determines whether the study summary pop-up will need to be opened when the
page is redirected.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#get_view_url-class_method" title="get_view_url (class method)">+ (String) <strong>get_view_url</strong>(comment) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
returns a url to view the location of the comment based on the comment
itself, for the project summary.
</p>
</div></span>
  
</li>

      
    </ul>
  
    <h2>
      Instance Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#get_user_name-instance_method" title="#get_user_name (instance method)">- (string) <strong>get_user_name</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
return a string of the first and last name of the user used to call this
function.
</p>
</div></span>
  
</li>

      
    </ul>
  


  

  <div id="class_method_details" class="method_details_list">
    <h2>Class Method Details</h2>
    
    
      <div class="method_details first">
  <p class="signature first" id="get_comments_and_flags-class_method">
  
    + (<tt>Array</tt>) <strong>get_comments_and_flags</strong>(section_name, section_id, field_name, study_id, project_id, show_both, sort_by) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
returns an array of all comments and flags on a particular section.
dependent on whether to show both public and private (show_both). and how
to sort them (sort_by). for regular comment pages (variables are passed in
from the section where the comment is located).
</p>


  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='name'>section_name</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>
the name of the general section where the field is (example: projects,
arms, studies, adverseevents, designdetails, baselinecharacteristics,
keyquestions, primarypublications, secondarypublications,
qualitydimensions, qualityratings)
</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>section_id</span>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>
the item_id of the section. (example: project id, keyquestion id, arm id)
</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>field_name</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>
the name of the field where the comment will be (example: [project] title,
[keyquestion] question)
</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>study_id</span>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>
the id of the study where the field is (-1 if the field is in a project)
</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>project_id</span>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>
the id of the project to get a number of comments for
</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>show_both</span>
      
      
        <span class='type'>(<tt>boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>
true if you want to show public and private comments, false if you want to
show only private comments
</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>sort_by</span>
      
      
        <span class='type'>(<tt>string</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>
a string that determines the sorting order of the comment list returned
</p>
</div>
      
    </li>
  
</ul>

<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Array</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>
comments the sorted list of comments
</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/comment.rb', line 346</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_get_comments_and_flags'>get_comments_and_flags</span><span class='lparen'>(</span><span class='id identifier rubyid_section_name'>section_name</span><span class='comma'>,</span> <span class='id identifier rubyid_section_id'>section_id</span><span class='comma'>,</span> <span class='id identifier rubyid_field_name'>field_name</span><span class='comma'>,</span> <span class='id identifier rubyid_study_id'>study_id</span><span class='comma'>,</span> <span class='id identifier rubyid_project_id'>project_id</span><span class='comma'>,</span> <span class='id identifier rubyid_show_both'>show_both</span><span class='comma'>,</span> <span class='id identifier rubyid_sort_by'>sort_by</span><span class='rparen'>)</span>
	<span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_show_both'>show_both</span>
		<span class='kw'>case</span> <span class='id identifier rubyid_sort_by'>sort_by</span>
			<span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>type</span><span class='tstring_end'>&quot;</span></span>
				<span class='ivar'>@comments</span> <span class='op'>=</span> <span class='const'>Comment</span><span class='period'>.</span><span class='id identifier rubyid_where'>where</span><span class='lparen'>(</span><span class='symbol'>:section_name</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_section_name'>section_name</span><span class='comma'>,</span> <span class='symbol'>:section_id</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_section_id'>section_id</span><span class='comma'>,</span> <span class='symbol'>:field_name</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_field_name'>field_name</span><span class='comma'>,</span> <span class='symbol'>:study_id</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_study_id'>study_id</span><span class='comma'>,</span> <span class='symbol'>:is_reply</span> <span class='op'>=&gt;</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='symbol'>:project_id</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_project_id'>project_id</span><span class='comma'>,</span> <span class='symbol'>:is_public</span> <span class='op'>=&gt;</span> <span class='kw'>true</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_order'>order</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>is_flag DESC, created_at DESC</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_all'>all</span>		
				<span class='kw'>return</span> <span class='ivar'>@comments</span>										
			<span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>priority</span><span class='tstring_end'>&quot;</span></span>	
				<span class='ivar'>@comments</span> <span class='op'>=</span> <span class='const'>Comment</span><span class='period'>.</span><span class='id identifier rubyid_where'>where</span><span class='lparen'>(</span><span class='symbol'>:section_name</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_section_name'>section_name</span><span class='comma'>,</span> <span class='symbol'>:section_id</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_section_id'>section_id</span><span class='comma'>,</span> <span class='symbol'>:field_name</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_field_name'>field_name</span><span class='comma'>,</span> <span class='symbol'>:study_id</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_study_id'>study_id</span><span class='comma'>,</span> <span class='symbol'>:is_reply</span> <span class='op'>=&gt;</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='symbol'>:project_id</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_project_id'>project_id</span><span class='comma'>,</span> <span class='symbol'>:is_public</span> <span class='op'>=&gt;</span> <span class='kw'>true</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_order'>order</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>is_flag DESC, is_high_priority DESC</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_all'>all</span>		
				<span class='kw'>return</span> <span class='ivar'>@comments</span>														
			<span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>oldest</span><span class='tstring_end'>&quot;</span></span>
				<span class='ivar'>@comments</span> <span class='op'>=</span> <span class='const'>Comment</span><span class='period'>.</span><span class='id identifier rubyid_where'>where</span><span class='lparen'>(</span><span class='symbol'>:section_name</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_section_name'>section_name</span><span class='comma'>,</span> <span class='symbol'>:section_id</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_section_id'>section_id</span><span class='comma'>,</span> <span class='symbol'>:field_name</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_field_name'>field_name</span><span class='comma'>,</span> <span class='symbol'>:study_id</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_study_id'>study_id</span><span class='comma'>,</span> <span class='symbol'>:is_reply</span> <span class='op'>=&gt;</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='symbol'>:project_id</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_project_id'>project_id</span><span class='comma'>,</span> <span class='symbol'>:is_public</span> <span class='op'>=&gt;</span> <span class='kw'>true</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_order'>order</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>created_at ASC</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_all'>all</span>
				<span class='kw'>return</span> <span class='ivar'>@comments</span>					
			<span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>facts</span><span class='tstring_end'>&quot;</span></span>
				<span class='ivar'>@comments</span> <span class='op'>=</span> <span class='const'>Comment</span><span class='period'>.</span><span class='id identifier rubyid_where'>where</span><span class='lparen'>(</span><span class='symbol'>:section_name</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_section_name'>section_name</span><span class='comma'>,</span> <span class='symbol'>:section_id</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_section_id'>section_id</span><span class='comma'>,</span> <span class='symbol'>:field_name</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_field_name'>field_name</span><span class='comma'>,</span> <span class='symbol'>:study_id</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_study_id'>study_id</span><span class='comma'>,</span> <span class='symbol'>:is_reply</span> <span class='op'>=&gt;</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='symbol'>:project_id</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_project_id'>project_id</span><span class='comma'>,</span> <span class='symbol'>:is_public</span> <span class='op'>=&gt;</span> <span class='kw'>true</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_order'>order</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>fact_or_opinion DESC</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_all'>all</span>		
				<span class='kw'>return</span> <span class='ivar'>@comments</span>										
			<span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>flagtype</span><span class='tstring_end'>&quot;</span></span>
				<span class='ivar'>@comments</span> <span class='op'>=</span> <span class='const'>Comment</span><span class='period'>.</span><span class='id identifier rubyid_where'>where</span><span class='lparen'>(</span><span class='symbol'>:section_name</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_section_name'>section_name</span><span class='comma'>,</span> <span class='symbol'>:section_id</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_section_id'>section_id</span><span class='comma'>,</span> <span class='symbol'>:field_name</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_field_name'>field_name</span><span class='comma'>,</span> <span class='symbol'>:study_id</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_study_id'>study_id</span><span class='comma'>,</span> <span class='symbol'>:is_reply</span> <span class='op'>=&gt;</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='symbol'>:project_id</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_project_id'>project_id</span><span class='comma'>,</span> <span class='symbol'>:is_public</span> <span class='op'>=&gt;</span> <span class='kw'>true</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_order'>order</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>is_flag DESC, flag_type ASC</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_all'>all</span>
				<span class='kw'>return</span> <span class='ivar'>@comments</span>					
			<span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>public</span><span class='tstring_end'>&quot;</span></span>
				<span class='ivar'>@comments</span> <span class='op'>=</span> <span class='const'>Comment</span><span class='period'>.</span><span class='id identifier rubyid_where'>where</span><span class='lparen'>(</span><span class='symbol'>:section_name</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_section_name'>section_name</span><span class='comma'>,</span> <span class='symbol'>:section_id</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_section_id'>section_id</span><span class='comma'>,</span> <span class='symbol'>:field_name</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_field_name'>field_name</span><span class='comma'>,</span> <span class='symbol'>:study_id</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_study_id'>study_id</span><span class='comma'>,</span> <span class='symbol'>:is_reply</span> <span class='op'>=&gt;</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='symbol'>:project_id</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_project_id'>project_id</span><span class='comma'>,</span> <span class='symbol'>:is_public</span> <span class='op'>=&gt;</span> <span class='kw'>true</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_order'>order</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>is_public DESC</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_all'>all</span>		
				<span class='kw'>return</span> <span class='ivar'>@comments</span>										
			<span class='kw'>else</span>
				<span class='comment'>#recent
</span>				<span class='ivar'>@comments</span> <span class='op'>=</span> <span class='const'>Comment</span><span class='period'>.</span><span class='id identifier rubyid_where'>where</span><span class='lparen'>(</span><span class='symbol'>:section_name</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_section_name'>section_name</span><span class='comma'>,</span> <span class='symbol'>:section_id</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_section_id'>section_id</span><span class='comma'>,</span> <span class='symbol'>:field_name</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_field_name'>field_name</span><span class='comma'>,</span> <span class='symbol'>:study_id</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_study_id'>study_id</span><span class='comma'>,</span> <span class='symbol'>:is_reply</span> <span class='op'>=&gt;</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='symbol'>:project_id</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_project_id'>project_id</span><span class='comma'>,</span> <span class='symbol'>:is_public</span> <span class='op'>=&gt;</span> <span class='kw'>true</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_order'>order</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>created_at DESC</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_all'>all</span>		
				<span class='kw'>return</span> <span class='ivar'>@comments</span>					
		<span class='kw'>end</span>
	<span class='kw'>else</span>
		<span class='kw'>case</span> <span class='id identifier rubyid_sort_by'>sort_by</span>
			<span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>type</span><span class='tstring_end'>&quot;</span></span>	
				<span class='ivar'>@comments</span> <span class='op'>=</span> <span class='const'>Comment</span><span class='period'>.</span><span class='id identifier rubyid_where'>where</span><span class='lparen'>(</span><span class='symbol'>:section_name</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_section_name'>section_name</span><span class='comma'>,</span> <span class='symbol'>:section_id</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_section_id'>section_id</span><span class='comma'>,</span> <span class='symbol'>:field_name</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_field_name'>field_name</span><span class='comma'>,</span> <span class='symbol'>:study_id</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_study_id'>study_id</span><span class='comma'>,</span> <span class='symbol'>:project_id</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_project_id'>project_id</span><span class='comma'>,</span> <span class='symbol'>:is_reply</span> <span class='op'>=&gt;</span> <span class='kw'>false</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_order'>order</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>is_flag DESC, created_at DESC</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_all'>all</span>		
				<span class='kw'>return</span> <span class='ivar'>@comments</span>										
			<span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>priority</span><span class='tstring_end'>&quot;</span></span>		
				<span class='ivar'>@comments</span> <span class='op'>=</span> <span class='const'>Comment</span><span class='period'>.</span><span class='id identifier rubyid_where'>where</span><span class='lparen'>(</span><span class='symbol'>:section_name</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_section_name'>section_name</span><span class='comma'>,</span> <span class='symbol'>:section_id</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_section_id'>section_id</span><span class='comma'>,</span> <span class='symbol'>:field_name</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_field_name'>field_name</span><span class='comma'>,</span> <span class='symbol'>:study_id</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_study_id'>study_id</span><span class='comma'>,</span> <span class='symbol'>:project_id</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_project_id'>project_id</span><span class='comma'>,</span><span class='symbol'>:is_reply</span> <span class='op'>=&gt;</span> <span class='kw'>false</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_order'>order</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>is_high_priority DESC</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_all'>all</span>			
				<span class='kw'>return</span> <span class='ivar'>@comments</span>																		
			<span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>oldest</span><span class='tstring_end'>&quot;</span></span>
				<span class='ivar'>@comments</span> <span class='op'>=</span> <span class='const'>Comment</span><span class='period'>.</span><span class='id identifier rubyid_where'>where</span><span class='lparen'>(</span><span class='symbol'>:section_name</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_section_name'>section_name</span><span class='comma'>,</span> <span class='symbol'>:section_id</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_section_id'>section_id</span><span class='comma'>,</span> <span class='symbol'>:field_name</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_field_name'>field_name</span><span class='comma'>,</span> <span class='symbol'>:study_id</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_study_id'>study_id</span><span class='comma'>,</span> <span class='symbol'>:is_reply</span> <span class='op'>=&gt;</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='symbol'>:project_id</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_project_id'>project_id</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_order'>order</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>created_at ASC</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_all'>all</span>
				<span class='kw'>return</span> <span class='ivar'>@comments</span>					
			<span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>facts</span><span class='tstring_end'>&quot;</span></span>
				<span class='ivar'>@comments</span> <span class='op'>=</span> <span class='const'>Comment</span><span class='period'>.</span><span class='id identifier rubyid_where'>where</span><span class='lparen'>(</span><span class='symbol'>:section_name</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_section_name'>section_name</span><span class='comma'>,</span> <span class='symbol'>:section_id</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_section_id'>section_id</span><span class='comma'>,</span> <span class='symbol'>:field_name</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_field_name'>field_name</span><span class='comma'>,</span> <span class='symbol'>:study_id</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_study_id'>study_id</span><span class='comma'>,</span> <span class='symbol'>:is_reply</span> <span class='op'>=&gt;</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='symbol'>:project_id</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_project_id'>project_id</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_order'>order</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>fact_or_opinion DESC</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_all'>all</span>			
				<span class='kw'>return</span> <span class='ivar'>@comments</span>					
			<span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>flagtype</span><span class='tstring_end'>&quot;</span></span>
				<span class='ivar'>@comments</span> <span class='op'>=</span> <span class='const'>Comment</span><span class='period'>.</span><span class='id identifier rubyid_where'>where</span><span class='lparen'>(</span><span class='symbol'>:section_name</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_section_name'>section_name</span><span class='comma'>,</span> <span class='symbol'>:section_id</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_section_id'>section_id</span><span class='comma'>,</span> <span class='symbol'>:field_name</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_field_name'>field_name</span><span class='comma'>,</span> <span class='symbol'>:study_id</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_study_id'>study_id</span><span class='comma'>,</span> <span class='symbol'>:is_reply</span> <span class='op'>=&gt;</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='symbol'>:project_id</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_project_id'>project_id</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_order'>order</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>flag_type ASC</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_all'>all</span>
				<span class='kw'>return</span> <span class='ivar'>@comments</span>										
			<span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>public</span><span class='tstring_end'>&quot;</span></span>
				<span class='ivar'>@comments</span> <span class='op'>=</span> <span class='const'>Comment</span><span class='period'>.</span><span class='id identifier rubyid_where'>where</span><span class='lparen'>(</span><span class='symbol'>:section_name</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_section_name'>section_name</span><span class='comma'>,</span> <span class='symbol'>:section_id</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_section_id'>section_id</span><span class='comma'>,</span> <span class='symbol'>:field_name</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_field_name'>field_name</span><span class='comma'>,</span> <span class='symbol'>:study_id</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_study_id'>study_id</span><span class='comma'>,</span> <span class='symbol'>:is_reply</span> <span class='op'>=&gt;</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='symbol'>:project_id</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_project_id'>project_id</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_order'>order</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>is_public DESC</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_all'>all</span>				
				<span class='kw'>return</span> <span class='ivar'>@comments</span>					
			<span class='kw'>else</span>
				<span class='comment'>#recent
</span>				<span class='ivar'>@comments</span> <span class='op'>=</span> <span class='const'>Comment</span><span class='period'>.</span><span class='id identifier rubyid_where'>where</span><span class='lparen'>(</span><span class='symbol'>:section_name</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_section_name'>section_name</span><span class='comma'>,</span> <span class='symbol'>:section_id</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_section_id'>section_id</span><span class='comma'>,</span> <span class='symbol'>:field_name</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_field_name'>field_name</span><span class='comma'>,</span> <span class='symbol'>:study_id</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_study_id'>study_id</span><span class='comma'>,</span> <span class='symbol'>:is_reply</span> <span class='op'>=&gt;</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='symbol'>:project_id</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_project_id'>project_id</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_order'>order</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>created_at DESC</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_all'>all</span>
				<span class='kw'>return</span> <span class='ivar'>@comments</span>					
		<span class='kw'>end</span>
	<span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="get_edit_url-class_method">
  
    + (<tt>String</tt>) <strong>get_edit_url</strong>(comment) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
returns a url to edit the comment based on the comment. for the project
summary. this url (for editing) is only shown to collaborators viewing the
project summary.
</p>


  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='name'>comment</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>
the comment to get a url for
</p>
</div>
      
    </li>
  
</ul>

<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>
url the url from the comment
</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/comment.rb', line 405</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_get_edit_url'>get_edit_url</span><span class='lparen'>(</span><span class='id identifier rubyid_comment'>comment</span><span class='rparen'>)</span>
	<span class='ivar'>@string</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>
	<span class='kw'>case</span> <span class='id identifier rubyid_comment'>comment</span><span class='period'>.</span><span class='id identifier rubyid_section_name'>section_name</span>
		<span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>projects</span><span class='tstring_end'>&quot;</span></span>
			<span class='ivar'>@string</span> <span class='op'>=</span> <span class='ivar'>@string</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/projects/</span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span> <span class='id identifier rubyid_comment'>comment</span><span class='period'>.</span><span class='id identifier rubyid_project_id'>project_id</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/edit</span><span class='tstring_end'>&quot;</span></span>
		<span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>keyquestions</span><span class='tstring_end'>&quot;</span></span>
			<span class='ivar'>@string</span> <span class='op'>=</span> <span class='ivar'>@string</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/projects/</span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span> <span class='id identifier rubyid_comment'>comment</span><span class='period'>.</span><span class='id identifier rubyid_project_id'>project_id</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/edit</span><span class='tstring_end'>&quot;</span></span>	
		<span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>arms</span><span class='tstring_end'>&quot;</span></span>
			<span class='ivar'>@string</span> <span class='op'>=</span> <span class='ivar'>@string</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/projects/</span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span> <span class='id identifier rubyid_comment'>comment</span><span class='period'>.</span><span class='id identifier rubyid_project_id'>project_id</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/studies/</span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span> <span class='id identifier rubyid_comment'>comment</span><span class='period'>.</span><span class='id identifier rubyid_study_id'>study_id</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/arms</span><span class='tstring_end'>&quot;</span></span>				
		<span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>secondarypublications</span><span class='tstring_end'>&quot;</span></span>
			<span class='ivar'>@string</span> <span class='op'>=</span> <span class='ivar'>@string</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/projects/</span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span> <span class='id identifier rubyid_comment'>comment</span><span class='period'>.</span><span class='id identifier rubyid_project_id'>project_id</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/studies/</span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span> <span class='id identifier rubyid_comment'>comment</span><span class='period'>.</span><span class='id identifier rubyid_study_id'>study_id</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/publications</span><span class='tstring_end'>&quot;</span></span>			
		<span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>primarypublications</span><span class='tstring_end'>&quot;</span></span>
			<span class='ivar'>@string</span> <span class='op'>=</span> <span class='ivar'>@string</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/projects/</span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span> <span class='id identifier rubyid_comment'>comment</span><span class='period'>.</span><span class='id identifier rubyid_project_id'>project_id</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/studies/</span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span> <span class='id identifier rubyid_comment'>comment</span><span class='period'>.</span><span class='id identifier rubyid_study_id'>study_id</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/publications</span><span class='tstring_end'>&quot;</span></span>				
		<span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>adverseevents</span><span class='tstring_end'>&quot;</span></span>
			<span class='ivar'>@string</span> <span class='op'>=</span> <span class='ivar'>@string</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/projects/</span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span> <span class='id identifier rubyid_comment'>comment</span><span class='period'>.</span><span class='id identifier rubyid_project_id'>project_id</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/studies/</span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span> <span class='id identifier rubyid_comment'>comment</span><span class='period'>.</span><span class='id identifier rubyid_study_id'>study_id</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/adverse</span><span class='tstring_end'>&quot;</span></span>				
		<span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>designdetails</span><span class='tstring_end'>&quot;</span></span>
			<span class='ivar'>@string</span> <span class='op'>=</span> <span class='ivar'>@string</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/projects/</span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span> <span class='id identifier rubyid_comment'>comment</span><span class='period'>.</span><span class='id identifier rubyid_project_id'>project_id</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/studies/</span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span> <span class='id identifier rubyid_comment'>comment</span><span class='period'>.</span><span class='id identifier rubyid_study_id'>study_id</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/design</span><span class='tstring_end'>&quot;</span></span>			
		<span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>baselinecharacteristics</span><span class='tstring_end'>&quot;</span></span>
			<span class='ivar'>@string</span> <span class='op'>=</span> <span class='ivar'>@string</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/projects/</span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span> <span class='id identifier rubyid_comment'>comment</span><span class='period'>.</span><span class='id identifier rubyid_project_id'>project_id</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/studies/</span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span> <span class='id identifier rubyid_comment'>comment</span><span class='period'>.</span><span class='id identifier rubyid_study_id'>study_id</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/baselines</span><span class='tstring_end'>&quot;</span></span>				
		<span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>qualitydimensions</span><span class='tstring_end'>&quot;</span></span>
			<span class='ivar'>@string</span> <span class='op'>=</span> <span class='ivar'>@string</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/projects/</span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span> <span class='id identifier rubyid_comment'>comment</span><span class='period'>.</span><span class='id identifier rubyid_project_id'>project_id</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/studies/</span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span> <span class='id identifier rubyid_comment'>comment</span><span class='period'>.</span><span class='id identifier rubyid_study_id'>study_id</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/quality</span><span class='tstring_end'>&quot;</span></span>									
		<span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>qualityratings</span><span class='tstring_end'>&quot;</span></span>
			<span class='ivar'>@string</span> <span class='op'>=</span> <span class='ivar'>@string</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/projects/</span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span> <span class='id identifier rubyid_comment'>comment</span><span class='period'>.</span><span class='id identifier rubyid_project_id'>project_id</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/studies/</span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span> <span class='id identifier rubyid_comment'>comment</span><span class='period'>.</span><span class='id identifier rubyid_study_id'>study_id</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/quality</span><span class='tstring_end'>&quot;</span></span>						
		<span class='kw'>else</span>
			<span class='ivar'>@string</span> <span class='op'>=</span> <span class='ivar'>@string</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/projects/</span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span> <span class='id identifier rubyid_comment'>comment</span><span class='period'>.</span><span class='id identifier rubyid_project_id'>project_id</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/edit</span><span class='tstring_end'>&quot;</span></span>	
		<span class='kw'>end</span>	
	<span class='kw'>return</span> <span class='ivar'>@string</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="get_field_string-class_method">
  
    + (<tt>String</tt>) <strong>get_field_string</strong>(comment_id) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
returns a string of the field name based on the comment_id
</p>


  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='name'>comment_id</span>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>
the id of the comment to get info for
</p>
</div>
      
    </li>
  
</ul>

<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>
field_name name of the comment&#8217;s field
</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


203
204
205
206
207
208</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/comment.rb', line 203</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_get_field_string'>get_field_string</span><span class='lparen'>(</span><span class='id identifier rubyid_comment_id'>comment_id</span><span class='rparen'>)</span>
	<span class='ivar'>@comment</span> <span class='op'>=</span> <span class='const'>Comment</span><span class='period'>.</span><span class='id identifier rubyid_find'>find</span><span class='lparen'>(</span><span class='id identifier rubyid_comment_id'>comment_id</span><span class='rparen'>)</span>
	<span class='ivar'>@string</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>
	<span class='ivar'>@string</span> <span class='op'>=</span> <span class='ivar'>@string</span> <span class='op'>+</span> <span class='ivar'>@comment</span><span class='period'>.</span><span class='id identifier rubyid_field_name'>field_name</span>
	<span class='kw'>return</span> <span class='ivar'>@string</span>		
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="get_location_string-class_method">
  
    + (<tt>String</tt>) <strong>get_location_string</strong>(comment_id) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
for project summary shows all information about where the comment is
located in one string
</p>


  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='name'>comment_id</span>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>
the id of the comment to get info for
</p>
</div>
      
    </li>
  
</ul>

<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>
comment_info detailed info about comment location in a readable format for
the summary section
</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/comment.rb', line 85</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_get_location_string'>get_location_string</span><span class='lparen'>(</span><span class='id identifier rubyid_comment_id'>comment_id</span><span class='rparen'>)</span>
	<span class='id identifier rubyid_string'>string</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&lt;strong&gt;Posted to:&lt;/strong&gt; </span><span class='tstring_end'>&quot;</span></span>
	<span class='ivar'>@sub</span> <span class='op'>=</span> <span class='const'>Comment</span><span class='period'>.</span><span class='id identifier rubyid_get_project_string'>get_project_string</span><span class='lparen'>(</span><span class='id identifier rubyid_comment_id'>comment_id</span><span class='rparen'>)</span>
	<span class='id identifier rubyid_prev'>prev</span> <span class='op'>=</span> <span class='kw'>false</span>
	<span class='kw'>if</span> <span class='lparen'>(</span><span class='ivar'>@sub</span> <span class='op'>!=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
		<span class='id identifier rubyid_string'>string</span> <span class='op'>=</span> <span class='id identifier rubyid_string'>string</span> <span class='op'>+</span> <span class='ivar'>@sub</span>
		<span class='id identifier rubyid_prev'>prev</span> <span class='op'>=</span> <span class='kw'>true</span>
	<span class='kw'>end</span>
	<span class='ivar'>@sub</span> <span class='op'>=</span> <span class='const'>Comment</span><span class='period'>.</span><span class='id identifier rubyid_get_study_string'>get_study_string</span><span class='lparen'>(</span><span class='id identifier rubyid_comment_id'>comment_id</span><span class='rparen'>)</span>		
	<span class='kw'>if</span> <span class='lparen'>(</span><span class='ivar'>@sub</span> <span class='op'>!=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
		<span class='kw'>if</span> <span class='id identifier rubyid_prev'>prev</span>
			<span class='id identifier rubyid_string'>string</span> <span class='op'>=</span> <span class='id identifier rubyid_string'>string</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&lt;br/&gt;&lt;strong&gt;Study:&lt;/strong&gt; </span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span> <span class='ivar'>@sub</span>
		<span class='kw'>else</span>
			<span class='id identifier rubyid_string'>string</span> <span class='op'>=</span> <span class='id identifier rubyid_string'>string</span> <span class='op'>+</span> <span class='ivar'>@sub</span>			
		<span class='kw'>end</span>
		<span class='id identifier rubyid_prev'>prev</span> <span class='op'>=</span> <span class='kw'>true</span>			
	<span class='kw'>end</span>
	<span class='ivar'>@sub</span> <span class='op'>=</span> <span class='const'>Comment</span><span class='period'>.</span><span class='id identifier rubyid_get_section_string'>get_section_string</span><span class='lparen'>(</span><span class='id identifier rubyid_comment_id'>comment_id</span><span class='rparen'>)</span>		
	<span class='kw'>if</span> <span class='lparen'>(</span><span class='ivar'>@sub</span> <span class='op'>!=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
		<span class='kw'>if</span> <span class='id identifier rubyid_prev'>prev</span>
			<span class='id identifier rubyid_string'>string</span> <span class='op'>=</span> <span class='id identifier rubyid_string'>string</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&lt;br/&gt;&lt;strong&gt;Section:&lt;/strong&gt; </span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span> <span class='ivar'>@sub</span>
		<span class='kw'>else</span>
			<span class='id identifier rubyid_string'>string</span> <span class='op'>=</span> <span class='id identifier rubyid_string'>string</span> <span class='op'>+</span> <span class='ivar'>@sub</span>			
		<span class='kw'>end</span>
		<span class='id identifier rubyid_prev'>prev</span> <span class='op'>=</span> <span class='kw'>true</span>			
	<span class='kw'>end</span>		
	<span class='ivar'>@sub</span> <span class='op'>=</span> <span class='const'>Comment</span><span class='period'>.</span><span class='id identifier rubyid_get_field_string'>get_field_string</span><span class='lparen'>(</span><span class='id identifier rubyid_comment_id'>comment_id</span><span class='rparen'>)</span>		
	<span class='kw'>if</span> <span class='lparen'>(</span><span class='ivar'>@sub</span> <span class='op'>!=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
		<span class='kw'>if</span> <span class='id identifier rubyid_prev'>prev</span>
			<span class='id identifier rubyid_string'>string</span> <span class='op'>=</span> <span class='id identifier rubyid_string'>string</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&lt;br/&gt;&lt;strong&gt;Field:&lt;/strong&gt; </span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span> <span class='ivar'>@sub</span>
		<span class='kw'>else</span>
			<span class='id identifier rubyid_string'>string</span> <span class='op'>=</span> <span class='id identifier rubyid_string'>string</span> <span class='op'>+</span> <span class='ivar'>@sub</span>			
		<span class='kw'>end</span>
		<span class='id identifier rubyid_prev'>prev</span> <span class='op'>=</span> <span class='kw'>true</span>			
	<span class='kw'>end</span>				
	<span class='kw'>return</span> <span class='id identifier rubyid_string'>string</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="get_number_of_comments-class_method">
  
    + (<tt>Integer</tt>) <strong>get_number_of_comments</strong>(section_name, section_id, field_name, study_id, project_id, show_both) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
get number of comments based on variables given (from the page or section),
and whether to show both (show_both) - both public and private.
</p>


  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='name'>section_name</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>
the name of the general section where the field is (example: projects,
arms, studies, adverseevents, designdetails, baselinecharacteristics,
keyquestions, primarypublications, secondarypublications,
qualitydimensions, qualityratings)
</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>section_id</span>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>
the item_id of the section. (example: project id, keyquestion id, arm id)
</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>field_name</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>
the name of the field where the comment will be (example: [project] title,
[keyquestion] question)
</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>study_id</span>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>
the id of the study where the field is (-1 if the field is in a project)
</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>project_id</span>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>
the id of the project where the field is.
</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>show_both</span>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>
true if you want to show public and private comments, false if you want to
show only private comments
</p>
</div>
      
    </li>
  
</ul>

<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>
num_comments number of comments
</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


27
28
29
30
31
32
33
34
35</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/comment.rb', line 27</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_get_number_of_comments'>get_number_of_comments</span><span class='lparen'>(</span><span class='id identifier rubyid_section_name'>section_name</span><span class='comma'>,</span> <span class='id identifier rubyid_section_id'>section_id</span><span class='comma'>,</span> <span class='id identifier rubyid_field_name'>field_name</span><span class='comma'>,</span> <span class='id identifier rubyid_study_id'>study_id</span><span class='comma'>,</span> <span class='id identifier rubyid_project_id'>project_id</span><span class='comma'>,</span> <span class='id identifier rubyid_show_both'>show_both</span><span class='rparen'>)</span>
	<span class='kw'>if</span> <span class='lparen'>(</span><span class='op'>!</span><span class='id identifier rubyid_show_both'>show_both</span><span class='rparen'>)</span>
		<span class='ivar'>@comments</span> <span class='op'>=</span> <span class='const'>Comment</span><span class='period'>.</span><span class='id identifier rubyid_where'>where</span><span class='lparen'>(</span><span class='symbol'>:section_name</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_section_name'>section_name</span><span class='comma'>,</span> <span class='symbol'>:section_id</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_section_id'>section_id</span><span class='comma'>,</span> <span class='symbol'>:field_name</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_field_name'>field_name</span><span class='comma'>,</span> <span class='symbol'>:study_id</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_study_id'>study_id</span><span class='comma'>,</span> <span class='symbol'>:project_id</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_project_id'>project_id</span><span class='comma'>,</span> <span class='symbol'>:is_reply</span> <span class='op'>=&gt;</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='symbol'>:is_flag</span> <span class='op'>=&gt;</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='symbol'>:is_public</span> <span class='op'>=&gt;</span> <span class='kw'>true</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_all'>all</span>
		<span class='kw'>return</span> <span class='ivar'>@comments</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span>		
	<span class='kw'>else</span>
		<span class='ivar'>@comments</span> <span class='op'>=</span> <span class='const'>Comment</span><span class='period'>.</span><span class='id identifier rubyid_where'>where</span><span class='lparen'>(</span><span class='symbol'>:section_name</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_section_name'>section_name</span><span class='comma'>,</span> <span class='symbol'>:section_id</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_section_id'>section_id</span><span class='comma'>,</span> <span class='symbol'>:field_name</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_field_name'>field_name</span><span class='comma'>,</span> <span class='symbol'>:study_id</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_study_id'>study_id</span><span class='comma'>,</span> <span class='symbol'>:project_id</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_project_id'>project_id</span><span class='comma'>,</span> <span class='symbol'>:is_reply</span> <span class='op'>=&gt;</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='symbol'>:is_flag</span> <span class='op'>=&gt;</span> <span class='kw'>false</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_all'>all</span>
		<span class='kw'>return</span> <span class='ivar'>@comments</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span>			
	<span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="get_number_of_flags-class_method">
  
    + (<tt>Integer</tt>) <strong>get_number_of_flags</strong>(section_name, section_id, field_name, study_id, project_id, show_both) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
get number of flags based on variables given (from the page or section) 
and whether to show both (show_both) - both public and private
</p>


  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='name'>section_name</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>
the name of the general section where the field is (example: projects,
arms, studies, adverseevents, designdetails, baselinecharacteristics,
keyquestions, primarypublications, secondarypublications,
qualitydimensions, qualityratings)
</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>section_id</span>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>
the item_id of the section. (example: project id, keyquestion id, arm id)
</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>field_name</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>
the name of the field where the comment will be (example: [project] title,
[keyquestion] question)
</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>study_id</span>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>
the id of the study where the field is (-1 if the field is in a project)
</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>project_id</span>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>
the id of the project where the field is.
</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>show_both</span>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>
true if you want to show public and private comments, false if you want to
show only private comments
</p>
</div>
      
    </li>
  
</ul>

<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>
num_flags number of flags
</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


70
71
72
73
74
75
76
77
78</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/comment.rb', line 70</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_get_number_of_flags'>get_number_of_flags</span><span class='lparen'>(</span><span class='id identifier rubyid_section_name'>section_name</span><span class='comma'>,</span> <span class='id identifier rubyid_section_id'>section_id</span><span class='comma'>,</span> <span class='id identifier rubyid_field_name'>field_name</span><span class='comma'>,</span> <span class='id identifier rubyid_study_id'>study_id</span><span class='comma'>,</span> <span class='id identifier rubyid_project_id'>project_id</span><span class='comma'>,</span> <span class='id identifier rubyid_show_both'>show_both</span><span class='rparen'>)</span>
	<span class='kw'>if</span> <span class='lparen'>(</span><span class='op'>!</span><span class='id identifier rubyid_show_both'>show_both</span><span class='rparen'>)</span>	
		<span class='ivar'>@comments</span> <span class='op'>=</span> <span class='const'>Comment</span><span class='period'>.</span><span class='id identifier rubyid_where'>where</span><span class='lparen'>(</span><span class='symbol'>:section_name</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_section_name'>section_name</span><span class='comma'>,</span> <span class='symbol'>:section_id</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_section_id'>section_id</span><span class='comma'>,</span> <span class='symbol'>:field_name</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_field_name'>field_name</span><span class='comma'>,</span> <span class='symbol'>:study_id</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_study_id'>study_id</span><span class='comma'>,</span> <span class='symbol'>:project_id</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_project_id'>project_id</span><span class='comma'>,</span> <span class='symbol'>:is_reply</span> <span class='op'>=&gt;</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='symbol'>:is_flag</span> <span class='op'>=&gt;</span> <span class='kw'>true</span><span class='comma'>,</span> <span class='symbol'>:is_public</span> <span class='op'>=&gt;</span> <span class='kw'>true</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_all'>all</span>	
		<span class='kw'>return</span> <span class='ivar'>@comments</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span>
	<span class='kw'>else</span>
		<span class='ivar'>@comments</span> <span class='op'>=</span> <span class='const'>Comment</span><span class='period'>.</span><span class='id identifier rubyid_where'>where</span><span class='lparen'>(</span><span class='symbol'>:section_name</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_section_name'>section_name</span><span class='comma'>,</span> <span class='symbol'>:section_id</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_section_id'>section_id</span><span class='comma'>,</span> <span class='symbol'>:field_name</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_field_name'>field_name</span><span class='comma'>,</span> <span class='symbol'>:study_id</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_study_id'>study_id</span><span class='comma'>,</span> <span class='symbol'>:project_id</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_project_id'>project_id</span><span class='comma'>,</span> <span class='symbol'>:is_reply</span> <span class='op'>=&gt;</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='symbol'>:is_flag</span> <span class='op'>=&gt;</span> <span class='kw'>true</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_all'>all</span>	
		<span class='kw'>return</span> <span class='ivar'>@comments</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span>		
	<span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="get_number_of_private_comments-class_method">
  
    + (<tt>Integer</tt>) <strong>get_number_of_private_comments</strong>(section_name, section_id, field_name, study_id, project_id) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
get number of private comments based on variables given (from the page or
section)
</p>


  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='name'>section_name</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>
the name of the general section where the field is (example: projects,
arms, studies, adverseevents, designdetails, baselinecharacteristics,
keyquestions, primarypublications, secondarypublications,
qualitydimensions, qualityratings)
</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>section_id</span>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>
the item_id of the section. (example: project id, keyquestion id, arm id)
</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>field_name</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>
the name of the field where the comment will be (example: [project] title,
[keyquestion] question)
</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>study_id</span>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>
the id of the study where the field is (-1 if the field is in a project)
</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>project_id</span>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>
the id of the project where the field is.
</p>
</div>
      
    </li>
  
</ul>

<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>
num_comments number of comments
</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


56
57
58
59</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/comment.rb', line 56</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_get_number_of_private_comments'>get_number_of_private_comments</span><span class='lparen'>(</span><span class='id identifier rubyid_section_name'>section_name</span><span class='comma'>,</span> <span class='id identifier rubyid_section_id'>section_id</span><span class='comma'>,</span> <span class='id identifier rubyid_field_name'>field_name</span><span class='comma'>,</span> <span class='id identifier rubyid_study_id'>study_id</span><span class='comma'>,</span> <span class='id identifier rubyid_project_id'>project_id</span><span class='rparen'>)</span>
		<span class='ivar'>@comments</span> <span class='op'>=</span> <span class='const'>Comment</span><span class='period'>.</span><span class='id identifier rubyid_where'>where</span><span class='lparen'>(</span><span class='symbol'>:section_name</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_section_name'>section_name</span><span class='comma'>,</span> <span class='symbol'>:section_id</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_section_id'>section_id</span><span class='comma'>,</span> <span class='symbol'>:field_name</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_field_name'>field_name</span><span class='comma'>,</span> <span class='symbol'>:study_id</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_study_id'>study_id</span><span class='comma'>,</span> <span class='symbol'>:project_id</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_project_id'>project_id</span><span class='comma'>,</span> <span class='symbol'>:is_reply</span> <span class='op'>=&gt;</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='symbol'>:is_public</span> <span class='op'>=&gt;</span> <span class='kw'>false</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_all'>all</span>
		<span class='kw'>return</span> <span class='ivar'>@comments</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="get_number_of_private_project_comments-class_method">
  
    + (<tt>Integer</tt>) <strong>get_number_of_private_project_comments</strong>(project_id) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
returns the number of private comments on a particular project for the
project comment/flag summary
</p>


  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='name'>project_id</span>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>
the id of the project to get a number of comments for
</p>
</div>
      
    </li>
  
</ul>

<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>
num number of comments in the project
</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


223
224
225
226</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/comment.rb', line 223</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_get_number_of_private_project_comments'>get_number_of_private_project_comments</span><span class='lparen'>(</span><span class='id identifier rubyid_project_id'>project_id</span><span class='rparen'>)</span>
		<span class='ivar'>@comments</span> <span class='op'>=</span> <span class='const'>Comment</span><span class='period'>.</span><span class='id identifier rubyid_where'>where</span><span class='lparen'>(</span><span class='symbol'>:project_id</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_project_id'>project_id</span><span class='comma'>,</span> <span class='symbol'>:is_reply</span> <span class='op'>=&gt;</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='symbol'>:is_public</span> <span class='op'>=&gt;</span> <span class='kw'>false</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_all'>all</span>
		<span class='kw'>return</span> <span class='ivar'>@comments</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="get_number_of_project_comments-class_method">
  
    + (<tt>Integer</tt>) <strong>get_number_of_project_comments</strong>(project_id, show_both) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
returns the number of all comments on a particular project,  dependent on
whether to show both public and private (show_both) for the project
comment/flag summary
</p>


  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='name'>project_id</span>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>
the id of the project to get a number of comments for
</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>show_both</span>
      
      
        <span class='type'>(<tt>boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>
true if you want to show public and private comments, false if you want to
show only private comments
</p>
</div>
      
    </li>
  
</ul>

<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>
num number of comments in the project
</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


234
235
236
237
238
239
240
241
242</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/comment.rb', line 234</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_get_number_of_project_comments'>get_number_of_project_comments</span><span class='lparen'>(</span><span class='id identifier rubyid_project_id'>project_id</span><span class='comma'>,</span> <span class='id identifier rubyid_show_both'>show_both</span><span class='rparen'>)</span>
	<span class='kw'>if</span> <span class='lparen'>(</span><span class='op'>!</span><span class='id identifier rubyid_show_both'>show_both</span><span class='rparen'>)</span>
		<span class='ivar'>@comments</span> <span class='op'>=</span> <span class='const'>Comment</span><span class='period'>.</span><span class='id identifier rubyid_where'>where</span><span class='lparen'>(</span><span class='symbol'>:project_id</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_project_id'>project_id</span><span class='comma'>,</span> <span class='symbol'>:is_reply</span> <span class='op'>=&gt;</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='symbol'>:is_flag</span> <span class='op'>=&gt;</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='symbol'>:is_public</span> <span class='op'>=&gt;</span> <span class='kw'>true</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_all'>all</span>
		<span class='kw'>return</span> <span class='ivar'>@comments</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span>		
	<span class='kw'>else</span>
		<span class='ivar'>@comments</span> <span class='op'>=</span> <span class='const'>Comment</span><span class='period'>.</span><span class='id identifier rubyid_where'>where</span><span class='lparen'>(</span><span class='symbol'>:project_id</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_project_id'>project_id</span><span class='comma'>,</span> <span class='symbol'>:is_reply</span> <span class='op'>=&gt;</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='symbol'>:is_flag</span> <span class='op'>=&gt;</span> <span class='kw'>false</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_all'>all</span>
		<span class='kw'>return</span> <span class='ivar'>@comments</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span>			
	<span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="get_number_of_project_flags-class_method">
  
    + (<tt>Integer</tt>) <strong>get_number_of_project_flags</strong>(project_id, show_both) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
returns the number of all flags on a particular project,  dependent on
whether to show both public and private (show_both) for the project
comment/flag summary
</p>


  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='name'>project_id</span>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>
the id of the project to get a number of flags for
</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>show_both</span>
      
      
        <span class='type'>(<tt>boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>
true if you want to show public and private flags, false if you want to
show only private flags
</p>
</div>
      
    </li>
  
</ul>

<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>
num number of flags in the project
</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


250
251
252
253
254
255
256
257
258</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/comment.rb', line 250</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_get_number_of_project_flags'>get_number_of_project_flags</span><span class='lparen'>(</span><span class='id identifier rubyid_project_id'>project_id</span><span class='comma'>,</span> <span class='id identifier rubyid_show_both'>show_both</span><span class='rparen'>)</span>
	<span class='kw'>if</span> <span class='lparen'>(</span><span class='op'>!</span><span class='id identifier rubyid_show_both'>show_both</span><span class='rparen'>)</span>	
		<span class='ivar'>@comments</span> <span class='op'>=</span> <span class='const'>Comment</span><span class='period'>.</span><span class='id identifier rubyid_where'>where</span><span class='lparen'>(</span><span class='symbol'>:project_id</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_project_id'>project_id</span><span class='comma'>,</span> <span class='symbol'>:is_reply</span> <span class='op'>=&gt;</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='symbol'>:is_flag</span> <span class='op'>=&gt;</span> <span class='kw'>true</span><span class='comma'>,</span> <span class='symbol'>:is_public</span> <span class='op'>=&gt;</span> <span class='kw'>true</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_all'>all</span>	
		<span class='kw'>return</span> <span class='ivar'>@comments</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span>
	<span class='kw'>else</span>
		<span class='ivar'>@comments</span> <span class='op'>=</span> <span class='const'>Comment</span><span class='period'>.</span><span class='id identifier rubyid_where'>where</span><span class='lparen'>(</span><span class='symbol'>:project_id</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_project_id'>project_id</span><span class='comma'>,</span> <span class='symbol'>:is_reply</span> <span class='op'>=&gt;</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='symbol'>:is_flag</span> <span class='op'>=&gt;</span> <span class='kw'>true</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_all'>all</span>	
		<span class='kw'>return</span> <span class='ivar'>@comments</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span>		
	<span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="get_number_of_public_comments-class_method">
  
    + (<tt>Integer</tt>) <strong>get_number_of_public_comments</strong>(section_name, section_id, field_name, study_id, project_id) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
get number of public comments based on variables given (from the page or
section)
</p>


  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='name'>section_name</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>
the name of the general section where the field is (example: projects,
arms, studies, adverseevents, designdetails, baselinecharacteristics,
keyquestions, primarypublications, secondarypublications,
qualitydimensions, qualityratings)
</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>section_id</span>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>
the item_id of the section. (example: project id, keyquestion id, arm id)
</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>field_name</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>
the name of the field where the comment will be (example: [project] title,
[keyquestion] question)
</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>study_id</span>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>
the id of the study where the field is (-1 if the field is in a project)
</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>project_id</span>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>
the id of the project where the field is.
</p>
</div>
      
    </li>
  
</ul>

<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>
num_comments number of comments
</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


44
45
46
47</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/comment.rb', line 44</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_get_number_of_public_comments'>get_number_of_public_comments</span><span class='lparen'>(</span><span class='id identifier rubyid_section_name'>section_name</span><span class='comma'>,</span> <span class='id identifier rubyid_section_id'>section_id</span><span class='comma'>,</span> <span class='id identifier rubyid_field_name'>field_name</span><span class='comma'>,</span> <span class='id identifier rubyid_study_id'>study_id</span><span class='comma'>,</span> <span class='id identifier rubyid_project_id'>project_id</span><span class='rparen'>)</span>
		<span class='ivar'>@comments</span> <span class='op'>=</span> <span class='const'>Comment</span><span class='period'>.</span><span class='id identifier rubyid_where'>where</span><span class='lparen'>(</span><span class='symbol'>:section_name</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_section_name'>section_name</span><span class='comma'>,</span> <span class='symbol'>:section_id</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_section_id'>section_id</span><span class='comma'>,</span> <span class='symbol'>:field_name</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_field_name'>field_name</span><span class='comma'>,</span> <span class='symbol'>:study_id</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_study_id'>study_id</span><span class='comma'>,</span> <span class='symbol'>:project_id</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_project_id'>project_id</span><span class='comma'>,</span> <span class='symbol'>:is_reply</span> <span class='op'>=&gt;</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='symbol'>:is_public</span> <span class='op'>=&gt;</span> <span class='kw'>true</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_all'>all</span>
		<span class='kw'>return</span> <span class='ivar'>@comments</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="get_number_of_public_project_comments-class_method">
  
    + (<tt>Integer</tt>) <strong>get_number_of_public_project_comments</strong>(project_id) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
returns the number of public comments on a particular project for the
project comment/flag summary
</p>


  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='name'>project_id</span>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>
the id of the project to get a number of comments for
</p>
</div>
      
    </li>
  
</ul>

<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>
num number of comments in the project
</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


214
215
216
217</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/comment.rb', line 214</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_get_number_of_public_project_comments'>get_number_of_public_project_comments</span><span class='lparen'>(</span><span class='id identifier rubyid_project_id'>project_id</span><span class='rparen'>)</span>
		<span class='ivar'>@comments</span> <span class='op'>=</span> <span class='const'>Comment</span><span class='period'>.</span><span class='id identifier rubyid_where'>where</span><span class='lparen'>(</span><span class='symbol'>:project_id</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_project_id'>project_id</span><span class='comma'>,</span> <span class='symbol'>:is_reply</span> <span class='op'>=&gt;</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='symbol'>:is_public</span> <span class='op'>=&gt;</span> <span class='kw'>true</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_all'>all</span>
		<span class='kw'>return</span> <span class='ivar'>@comments</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="get_project_comments_and_flags-class_method">
  
    + (<tt>Array</tt>) <strong>get_project_comments_and_flags</strong>(project_id, show_both, sort_by) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
returns an array of all comments on a particular project, dependent on
whether to show both public and private (show_both) and how to sort them
(sort_by).  for the project comment/flag summary
</p>


  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='name'>project_id</span>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>
the id of the project to get a number of comments for
</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>show_both</span>
      
      
        <span class='type'>(<tt>boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>
true if you want to show public and private comments, false if you want to
show only private comments
</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>sort_by</span>
      
      
        <span class='type'>(<tt>string</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>
a string that determines the sorting order of the comment list returned
</p>
</div>
      
    </li>
  
</ul>

<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Array</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>
comments the sorted list of comments
</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/comment.rb', line 268</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_get_project_comments_and_flags'>get_project_comments_and_flags</span><span class='lparen'>(</span><span class='id identifier rubyid_project_id'>project_id</span><span class='comma'>,</span> <span class='id identifier rubyid_show_both'>show_both</span><span class='comma'>,</span> <span class='id identifier rubyid_sort_by'>sort_by</span><span class='rparen'>)</span>
	<span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_show_both'>show_both</span>
		<span class='kw'>case</span> <span class='id identifier rubyid_sort_by'>sort_by</span>
			<span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>type</span><span class='tstring_end'>&quot;</span></span>
				<span class='ivar'>@comments</span> <span class='op'>=</span> <span class='const'>Comment</span><span class='period'>.</span><span class='id identifier rubyid_where'>where</span><span class='lparen'>(</span><span class='symbol'>:is_reply</span> <span class='op'>=&gt;</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='symbol'>:project_id</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_project_id'>project_id</span><span class='comma'>,</span> <span class='symbol'>:is_public</span> <span class='op'>=&gt;</span> <span class='kw'>true</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_order'>order</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>is_flag DESC, created_at DESC</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_all'>all</span>		
				<span class='kw'>return</span> <span class='ivar'>@comments</span>										
			<span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>priority</span><span class='tstring_end'>&quot;</span></span>	
				<span class='ivar'>@comments</span> <span class='op'>=</span> <span class='const'>Comment</span><span class='period'>.</span><span class='id identifier rubyid_where'>where</span><span class='lparen'>(</span><span class='symbol'>:is_reply</span> <span class='op'>=&gt;</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='symbol'>:project_id</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_project_id'>project_id</span><span class='comma'>,</span> <span class='symbol'>:is_public</span> <span class='op'>=&gt;</span> <span class='kw'>true</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_order'>order</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>is_flag DESC, is_high_priority DESC</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_all'>all</span>		
				<span class='kw'>return</span> <span class='ivar'>@comments</span>														
			<span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>oldest</span><span class='tstring_end'>&quot;</span></span>
				<span class='ivar'>@comments</span> <span class='op'>=</span> <span class='const'>Comment</span><span class='period'>.</span><span class='id identifier rubyid_where'>where</span><span class='lparen'>(</span><span class='symbol'>:is_reply</span> <span class='op'>=&gt;</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='symbol'>:project_id</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_project_id'>project_id</span><span class='comma'>,</span> <span class='symbol'>:is_public</span> <span class='op'>=&gt;</span> <span class='kw'>true</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_order'>order</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>created_at ASC</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_all'>all</span>
				<span class='kw'>return</span> <span class='ivar'>@comments</span>					
			<span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>facts</span><span class='tstring_end'>&quot;</span></span>
				<span class='ivar'>@comments</span> <span class='op'>=</span> <span class='const'>Comment</span><span class='period'>.</span><span class='id identifier rubyid_where'>where</span><span class='lparen'>(</span><span class='symbol'>:is_reply</span> <span class='op'>=&gt;</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='symbol'>:project_id</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_project_id'>project_id</span><span class='comma'>,</span> <span class='symbol'>:is_public</span> <span class='op'>=&gt;</span> <span class='kw'>true</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_order'>order</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>fact_or_opinion DESC</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_all'>all</span>		
				<span class='kw'>return</span> <span class='ivar'>@comments</span>										
			<span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>flagtype</span><span class='tstring_end'>&quot;</span></span>
				<span class='ivar'>@comments</span> <span class='op'>=</span> <span class='const'>Comment</span><span class='period'>.</span><span class='id identifier rubyid_where'>where</span><span class='lparen'>(</span><span class='symbol'>:is_reply</span> <span class='op'>=&gt;</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='symbol'>:project_id</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_project_id'>project_id</span><span class='comma'>,</span> <span class='symbol'>:is_public</span> <span class='op'>=&gt;</span> <span class='kw'>true</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_order'>order</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>is_flag DESC, flag_type ASC</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_all'>all</span>
				<span class='kw'>return</span> <span class='ivar'>@comments</span>					
			<span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>public</span><span class='tstring_end'>&quot;</span></span>
				<span class='ivar'>@comments</span> <span class='op'>=</span> <span class='const'>Comment</span><span class='period'>.</span><span class='id identifier rubyid_where'>where</span><span class='lparen'>(</span><span class='symbol'>:is_reply</span> <span class='op'>=&gt;</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='symbol'>:project_id</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_project_id'>project_id</span><span class='comma'>,</span> <span class='symbol'>:is_public</span> <span class='op'>=&gt;</span> <span class='kw'>true</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_order'>order</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>is_public DESC</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_all'>all</span>		
				<span class='kw'>return</span> <span class='ivar'>@comments</span>										
			<span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>study</span><span class='tstring_end'>&quot;</span></span>
				<span class='ivar'>@comments</span> <span class='op'>=</span> <span class='const'>Comment</span><span class='period'>.</span><span class='id identifier rubyid_where'>where</span><span class='lparen'>(</span><span class='symbol'>:is_reply</span> <span class='op'>=&gt;</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='symbol'>:project_id</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_project_id'>project_id</span><span class='comma'>,</span> <span class='symbol'>:is_public</span> <span class='op'>=&gt;</span> <span class='kw'>true</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_order'>order</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>study_id ASC</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_all'>all</span>		
				<span class='kw'>return</span> <span class='ivar'>@comments</span>
			<span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>section</span><span class='tstring_end'>&quot;</span></span>
				<span class='ivar'>@comments</span> <span class='op'>=</span> <span class='const'>Comment</span><span class='period'>.</span><span class='id identifier rubyid_where'>where</span><span class='lparen'>(</span><span class='symbol'>:is_reply</span> <span class='op'>=&gt;</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='symbol'>:project_id</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_project_id'>project_id</span><span class='comma'>,</span> <span class='symbol'>:is_public</span> <span class='op'>=&gt;</span> <span class='kw'>true</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_order'>order</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>section_name ASC</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_all'>all</span>		
				<span class='kw'>return</span> <span class='ivar'>@comments</span>					
			<span class='kw'>else</span>
				<span class='comment'>#recent
</span>				<span class='ivar'>@comments</span> <span class='op'>=</span> <span class='const'>Comment</span><span class='period'>.</span><span class='id identifier rubyid_where'>where</span><span class='lparen'>(</span><span class='symbol'>:is_reply</span> <span class='op'>=&gt;</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='symbol'>:project_id</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_project_id'>project_id</span><span class='comma'>,</span> <span class='symbol'>:is_public</span> <span class='op'>=&gt;</span> <span class='kw'>true</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_order'>order</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>created_at DESC</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_all'>all</span>		
				<span class='kw'>return</span> <span class='ivar'>@comments</span>					
		<span class='kw'>end</span>
	<span class='kw'>else</span>
		<span class='kw'>case</span> <span class='id identifier rubyid_sort_by'>sort_by</span>
			<span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>type</span><span class='tstring_end'>&quot;</span></span>	
				<span class='ivar'>@comments</span> <span class='op'>=</span> <span class='const'>Comment</span><span class='period'>.</span><span class='id identifier rubyid_where'>where</span><span class='lparen'>(</span><span class='symbol'>:project_id</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_project_id'>project_id</span><span class='comma'>,</span> <span class='symbol'>:is_reply</span> <span class='op'>=&gt;</span> <span class='kw'>false</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_order'>order</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>is_flag DESC, created_at DESC</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_all'>all</span>		
				<span class='kw'>return</span> <span class='ivar'>@comments</span>										
			<span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>priority</span><span class='tstring_end'>&quot;</span></span>		
				<span class='ivar'>@comments</span> <span class='op'>=</span> <span class='const'>Comment</span><span class='period'>.</span><span class='id identifier rubyid_where'>where</span><span class='lparen'>(</span><span class='symbol'>:project_id</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_project_id'>project_id</span><span class='comma'>,</span><span class='symbol'>:is_reply</span> <span class='op'>=&gt;</span> <span class='kw'>false</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_order'>order</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>is_high_priority DESC</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_all'>all</span>			
				<span class='kw'>return</span> <span class='ivar'>@comments</span>																			
			<span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>oldest</span><span class='tstring_end'>&quot;</span></span>
				<span class='ivar'>@comments</span> <span class='op'>=</span> <span class='const'>Comment</span><span class='period'>.</span><span class='id identifier rubyid_where'>where</span><span class='lparen'>(</span><span class='symbol'>:is_reply</span> <span class='op'>=&gt;</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='symbol'>:project_id</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_project_id'>project_id</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_order'>order</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>created_at ASC</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_all'>all</span>
				<span class='kw'>return</span> <span class='ivar'>@comments</span>					
			<span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>facts</span><span class='tstring_end'>&quot;</span></span>
				<span class='ivar'>@comments</span> <span class='op'>=</span> <span class='const'>Comment</span><span class='period'>.</span><span class='id identifier rubyid_where'>where</span><span class='lparen'>(</span><span class='symbol'>:is_reply</span> <span class='op'>=&gt;</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='symbol'>:project_id</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_project_id'>project_id</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_order'>order</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>fact_or_opinion DESC</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_all'>all</span>			
				<span class='kw'>return</span> <span class='ivar'>@comments</span>					
			<span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>flagtype</span><span class='tstring_end'>&quot;</span></span>
				<span class='ivar'>@comments</span> <span class='op'>=</span> <span class='const'>Comment</span><span class='period'>.</span><span class='id identifier rubyid_where'>where</span><span class='lparen'>(</span><span class='symbol'>:is_reply</span> <span class='op'>=&gt;</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='symbol'>:project_id</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_project_id'>project_id</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_order'>order</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>flag_type ASC</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_all'>all</span>
				<span class='kw'>return</span> <span class='ivar'>@comments</span>										
			<span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>public</span><span class='tstring_end'>&quot;</span></span>
				<span class='ivar'>@comments</span> <span class='op'>=</span> <span class='const'>Comment</span><span class='period'>.</span><span class='id identifier rubyid_where'>where</span><span class='lparen'>(</span><span class='symbol'>:is_reply</span> <span class='op'>=&gt;</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='symbol'>:project_id</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_project_id'>project_id</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_order'>order</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>is_public DESC</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_all'>all</span>				
				<span class='kw'>return</span> <span class='ivar'>@comments</span>					
			<span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>study</span><span class='tstring_end'>&quot;</span></span>
				<span class='ivar'>@comments</span> <span class='op'>=</span> <span class='const'>Comment</span><span class='period'>.</span><span class='id identifier rubyid_where'>where</span><span class='lparen'>(</span><span class='symbol'>:is_reply</span> <span class='op'>=&gt;</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='symbol'>:project_id</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_project_id'>project_id</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_order'>order</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>study_id DESC</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_all'>all</span>				
				<span class='kw'>return</span> <span class='ivar'>@comments</span>	
			<span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>section</span><span class='tstring_end'>&quot;</span></span>
				<span class='ivar'>@comments</span> <span class='op'>=</span> <span class='const'>Comment</span><span class='period'>.</span><span class='id identifier rubyid_where'>where</span><span class='lparen'>(</span><span class='symbol'>:is_reply</span> <span class='op'>=&gt;</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='symbol'>:project_id</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_project_id'>project_id</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_order'>order</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>section_name ASC</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_all'>all</span>		
				<span class='kw'>return</span> <span class='ivar'>@comments</span>						
			<span class='kw'>else</span>
				<span class='comment'>#recent
</span>				<span class='ivar'>@comments</span> <span class='op'>=</span> <span class='const'>Comment</span><span class='period'>.</span><span class='id identifier rubyid_where'>where</span><span class='lparen'>(</span><span class='symbol'>:is_reply</span> <span class='op'>=&gt;</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='symbol'>:project_id</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_project_id'>project_id</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_order'>order</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>created_at DESC</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_all'>all</span>
				<span class='kw'>return</span> <span class='ivar'>@comments</span>					
		<span class='kw'>end</span>
	<span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="get_project_string-class_method">
  
    + (<tt>String</tt>) <strong>get_project_string</strong>(comment_id) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
returns a string of the project name based on the comment_id
</p>


  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='name'>comment_id</span>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>
the id of the comment to get info for
</p>
</div>
      
    </li>
  
</ul>

<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>
project_name name of the comment&#8217;s project
</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


126
127
128
129
130
131
132
133
134</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/comment.rb', line 126</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_get_project_string'>get_project_string</span><span class='lparen'>(</span><span class='id identifier rubyid_comment_id'>comment_id</span><span class='rparen'>)</span>
	<span class='ivar'>@comment</span> <span class='op'>=</span> <span class='const'>Comment</span><span class='period'>.</span><span class='id identifier rubyid_find'>find</span><span class='lparen'>(</span><span class='id identifier rubyid_comment_id'>comment_id</span><span class='rparen'>)</span>
	<span class='ivar'>@string</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>
	<span class='ivar'>@project</span> <span class='op'>=</span> <span class='const'>Project</span><span class='period'>.</span><span class='id identifier rubyid_find'>find</span><span class='lparen'>(</span><span class='ivar'>@comment</span><span class='period'>.</span><span class='id identifier rubyid_project_id'>project_id</span><span class='rparen'>)</span>
	<span class='kw'>if</span> <span class='op'>!</span><span class='ivar'>@project</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
		<span class='ivar'>@string</span> <span class='op'>=</span> <span class='ivar'>@string</span> <span class='op'>+</span> <span class='ivar'>@project</span><span class='period'>.</span><span class='id identifier rubyid_title'>title</span>
	<span class='kw'>end</span>
	<span class='kw'>return</span> <span class='ivar'>@string</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="get_section_string-class_method">
  
    + (<tt>String</tt>) <strong>get_section_string</strong>(comment_id) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
returns a string of the section name based on the comment_id
</p>


  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='name'>comment_id</span>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>
the id of the comment to get info for
</p>
</div>
      
    </li>
  
</ul>

<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>
section_name name of the comment&#8217;s section
</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/comment.rb', line 139</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_get_section_string'>get_section_string</span><span class='lparen'>(</span><span class='id identifier rubyid_comment_id'>comment_id</span><span class='rparen'>)</span>
	<span class='ivar'>@comment</span> <span class='op'>=</span> <span class='const'>Comment</span><span class='period'>.</span><span class='id identifier rubyid_find'>find</span><span class='lparen'>(</span><span class='id identifier rubyid_comment_id'>comment_id</span><span class='rparen'>)</span>
	<span class='ivar'>@string</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>
	<span class='kw'>case</span> <span class='ivar'>@comment</span><span class='period'>.</span><span class='id identifier rubyid_section_name'>section_name</span>
		<span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>keyquestions</span><span class='tstring_end'>&quot;</span></span>
			<span class='ivar'>@string</span> <span class='op'>=</span> <span class='ivar'>@string</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Key Question</span><span class='tstring_end'>&quot;</span></span>
			<span class='ivar'>@kq</span> <span class='op'>=</span> <span class='const'>KeyQuestion</span><span class='period'>.</span><span class='id identifier rubyid_find'>find</span><span class='lparen'>(</span><span class='ivar'>@comment</span><span class='period'>.</span><span class='id identifier rubyid_section_id'>section_id</span><span class='rparen'>)</span>
			<span class='ivar'>@string</span> <span class='op'>=</span> <span class='ivar'>@string</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> </span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span> <span class='ivar'>@kq</span><span class='period'>.</span><span class='id identifier rubyid_question_number'>question_number</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span>
			<span class='kw'>return</span> <span class='ivar'>@string</span>				
		<span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>arms</span><span class='tstring_end'>&quot;</span></span>
			<span class='ivar'>@arm</span> <span class='op'>=</span> <span class='const'>Arm</span><span class='period'>.</span><span class='id identifier rubyid_find'>find</span><span class='lparen'>(</span><span class='ivar'>@comment</span><span class='period'>.</span><span class='id identifier rubyid_section_id'>section_id</span><span class='rparen'>)</span>
			<span class='ivar'>@string</span> <span class='op'>=</span> <span class='ivar'>@string</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Arm: </span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span> <span class='ivar'>@arm</span><span class='period'>.</span><span class='id identifier rubyid_title'>title</span>
			<span class='kw'>return</span> <span class='ivar'>@string</span>				
		<span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>secondarypublications</span><span class='tstring_end'>&quot;</span></span>
			<span class='ivar'>@sp</span> <span class='op'>=</span> <span class='const'>SecondaryPublication</span><span class='period'>.</span><span class='id identifier rubyid_find'>find</span><span class='lparen'>(</span><span class='ivar'>@comment</span><span class='period'>.</span><span class='id identifier rubyid_section_id'>section_id</span><span class='rparen'>)</span>
			<span class='ivar'>@string</span> <span class='op'>=</span> <span class='ivar'>@string</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Secondary Publication</span><span class='tstring_end'>&quot;</span></span>
			<span class='kw'>return</span> <span class='ivar'>@string</span>				
		<span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>primarypublications</span><span class='tstring_end'>&quot;</span></span>
			<span class='ivar'>@pp</span> <span class='op'>=</span> <span class='const'>PrimaryPublication</span><span class='period'>.</span><span class='id identifier rubyid_find'>find</span><span class='lparen'>(</span><span class='ivar'>@comment</span><span class='period'>.</span><span class='id identifier rubyid_section_id'>section_id</span><span class='rparen'>)</span>
			<span class='ivar'>@string</span> <span class='op'>=</span> <span class='ivar'>@string</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Primary Publication</span><span class='tstring_end'>&quot;</span></span>
			<span class='kw'>return</span> <span class='ivar'>@string</span>				
		<span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>adverseevents</span><span class='tstring_end'>&quot;</span></span>
			<span class='ivar'>@ae</span> <span class='op'>=</span> <span class='const'>AdverseEvent</span><span class='period'>.</span><span class='id identifier rubyid_find'>find</span><span class='lparen'>(</span><span class='ivar'>@comment</span><span class='period'>.</span><span class='id identifier rubyid_section_id'>section_id</span><span class='rparen'>)</span>
			<span class='ivar'>@string</span> <span class='op'>=</span> <span class='ivar'>@string</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Adverse Event: </span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span> <span class='ivar'>@ae</span><span class='period'>.</span><span class='id identifier rubyid_title'>title</span>
			<span class='kw'>return</span> <span class='ivar'>@string</span>				
		<span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>designdetails</span><span class='tstring_end'>&quot;</span></span>
			<span class='ivar'>@dd</span> <span class='op'>=</span> <span class='const'>DesignDetail</span><span class='period'>.</span><span class='id identifier rubyid_find'>find</span><span class='lparen'>(</span><span class='ivar'>@comment</span><span class='period'>.</span><span class='id identifier rubyid_section_id'>section_id</span><span class='rparen'>)</span>
			<span class='ivar'>@string</span> <span class='op'>=</span> <span class='ivar'>@string</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Design Detail: </span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span> <span class='ivar'>@dd</span><span class='period'>.</span><span class='id identifier rubyid_question'>question</span>
			<span class='kw'>return</span> <span class='ivar'>@string</span>				
		<span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>baselinecharacteristics</span><span class='tstring_end'>&quot;</span></span>
			<span class='ivar'>@bc</span> <span class='op'>=</span> <span class='const'>BaselineCharacteristic</span><span class='period'>.</span><span class='id identifier rubyid_find'>find</span><span class='lparen'>(</span><span class='ivar'>@comment</span><span class='period'>.</span><span class='id identifier rubyid_section_id'>section_id</span><span class='rparen'>)</span>
			<span class='ivar'>@string</span> <span class='op'>=</span> <span class='ivar'>@string</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Baseline Characteristics: </span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span> <span class='ivar'>@bc</span><span class='period'>.</span><span class='id identifier rubyid_question'>question</span>	
			<span class='kw'>return</span> <span class='ivar'>@string</span>				
		<span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>qualitydimensions</span><span class='tstring_end'>&quot;</span></span>
			<span class='ivar'>@qd</span> <span class='op'>=</span> <span class='const'>QualityDimensionDataPoint</span><span class='period'>.</span><span class='id identifier rubyid_find'>find</span><span class='lparen'>(</span><span class='ivar'>@comment</span><span class='period'>.</span><span class='id identifier rubyid_section_id'>section_id</span><span class='rparen'>)</span>
			<span class='ivar'>@qd_field</span> <span class='op'>=</span> <span class='const'>QualityDimensionField</span><span class='period'>.</span><span class='id identifier rubyid_where'>where</span><span class='lparen'>(</span><span class='symbol'>:quality_dimension_field</span> <span class='op'>=&gt;</span> <span class='ivar'>@qd</span><span class='period'>.</span><span class='id identifier rubyid_quality_dimension_field_id'>quality_dimension_field_id</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span>
			<span class='ivar'>@string</span> <span class='op'>=</span> <span class='ivar'>@string</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Quality Dimension: </span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span> <span class='ivar'>@qd</span><span class='period'>.</span><span class='id identifier rubyid_title'>title</span>			
			<span class='kw'>return</span> <span class='ivar'>@string</span>								
		<span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>qualityratings</span><span class='tstring_end'>&quot;</span></span>
			<span class='ivar'>@string</span> <span class='op'>=</span> <span class='ivar'>@string</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Quality Rating</span><span class='tstring_end'>&quot;</span></span>
			<span class='kw'>return</span> <span class='ivar'>@string</span>				
		<span class='kw'>else</span>
			<span class='ivar'>@string</span> <span class='op'>=</span> <span class='ivar'>@string</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>
			<span class='kw'>return</span> <span class='ivar'>@string</span>				
		<span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="get_study_string-class_method">
  
    + (<tt>String</tt>) <strong>get_study_string</strong>(comment_id) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
returns a string of the study name based on the comment_id
</p>


  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='name'>comment_id</span>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>
the id of the comment to get info for
</p>
</div>
      
    </li>
  
</ul>

<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>
study_name name of the comment&#8217;s study
</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


190
191
192
193
194
195
196
197
198</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/comment.rb', line 190</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_get_study_string'>get_study_string</span><span class='lparen'>(</span><span class='id identifier rubyid_comment_id'>comment_id</span><span class='rparen'>)</span>
	<span class='ivar'>@comment</span> <span class='op'>=</span> <span class='const'>Comment</span><span class='period'>.</span><span class='id identifier rubyid_find'>find</span><span class='lparen'>(</span><span class='id identifier rubyid_comment_id'>comment_id</span><span class='rparen'>)</span>
	<span class='ivar'>@string</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>
	<span class='kw'>if</span> <span class='lparen'>(</span><span class='ivar'>@comment</span><span class='period'>.</span><span class='id identifier rubyid_study_id'>study_id</span> <span class='op'>!=</span> <span class='op'>-</span><span class='int'>1</span><span class='rparen'>)</span>
		<span class='ivar'>@study</span> <span class='op'>=</span> <span class='const'>Study</span><span class='period'>.</span><span class='id identifier rubyid_find'>find</span><span class='lparen'>(</span><span class='ivar'>@comment</span><span class='period'>.</span><span class='id identifier rubyid_study_id'>study_id</span><span class='rparen'>)</span>
		<span class='ivar'>@string</span> <span class='op'>=</span> <span class='ivar'>@string</span> <span class='op'>+</span> <span class='const'>Study</span><span class='period'>.</span><span class='id identifier rubyid_get_title'>get_title</span><span class='lparen'>(</span><span class='ivar'>@study</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span><span class='rparen'>)</span>
	<span class='kw'>end</span>
	<span class='kw'>return</span> <span class='ivar'>@string</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="get_view_open_study-class_method">
  
    + (<tt>boolean</tt>) <strong>get_view_open_study</strong>(comment) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
determines whether the study summary pop-up will need to be opened when the
page is redirected. for viewing public comments, in the project summary
</p>


  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='name'>comment</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="Comment (class)">Comment</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>
the comment to get the location information for
</p>
</div>
      
    </li>
  
</ul>

<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>
view_open_study boolean dependent on whether the comment is within a study
or part of the project; determines whether the study preview will pop open
automatically when viewing the comment location.
</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


449
450
451
452
453
454
455</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/comment.rb', line 449</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_get_view_open_study'>get_view_open_study</span><span class='lparen'>(</span><span class='id identifier rubyid_comment'>comment</span><span class='rparen'>)</span>
	<span class='kw'>if</span> <span class='lparen'>(</span><span class='id identifier rubyid_comment'>comment</span><span class='period'>.</span><span class='id identifier rubyid_study_id'>study_id</span> <span class='op'>!=</span> <span class='op'>-</span><span class='int'>1</span><span class='rparen'>)</span>
		<span class='kw'>return</span> <span class='id identifier rubyid_comment'>comment</span><span class='period'>.</span><span class='id identifier rubyid_study_id'>study_id</span>
	<span class='kw'>else</span>
		<span class='kw'>return</span> <span class='kw'>false</span>
	<span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="get_view_url-class_method">
  
    + (<tt>String</tt>) <strong>get_view_url</strong>(comment) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
returns a url to view the location of the comment based on the comment
itself, for the project summary.  this url (for viewing) is shown to all
users.
</p>


  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='name'>comment</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="Comment (class)">Comment</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>
the comment to get the location information for
</p>
</div>
      
    </li>
  
</ul>

<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>
url the url to return based on the comment
</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


439
440
441
442</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/comment.rb', line 439</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_get_view_url'>get_view_url</span><span class='lparen'>(</span><span class='id identifier rubyid_comment'>comment</span><span class='rparen'>)</span>
	<span class='ivar'>@string</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/projects/</span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span> <span class='id identifier rubyid_comment'>comment</span><span class='period'>.</span><span class='id identifier rubyid_project_id'>project_id</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span>
	<span class='kw'>return</span> <span class='ivar'>@string</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>
    
    
      <div class="method_details first">
  <p class="signature first" id="get_user_name-instance_method">
  
    - (<tt>string</tt>) <strong>get_user_name</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
return a string of the first and last name of the user used to call this
function. e.g. @user.get_user_name returns @user.fname + @user.lname
</p>


  </div>
</div>
<div class="tags">
  
<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>string</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>
retVal - a string containing the users first and last name in a readable
format
</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


8
9
10
11
12
13
14
15
16</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/comment.rb', line 8</span>

<span class='kw'>def</span> <span class='id identifier rubyid_get_user_name'>get_user_name</span>
	<span class='id identifier rubyid_retVal'>retVal</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>User Not Found</span><span class='tstring_end'>&quot;</span></span>
	<span class='id identifier rubyid_user_id'>user_id</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_user_id'>user_id</span>
	<span class='id identifier rubyid_user'>user</span> <span class='op'>=</span> <span class='const'>User</span><span class='period'>.</span><span class='id identifier rubyid_find'>find</span><span class='lparen'>(</span><span class='id identifier rubyid_user_id'>user_id</span><span class='comma'>,</span> <span class='symbol'>:select</span><span class='op'>=&gt;</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>fname</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>lname</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='rparen'>)</span>
	<span class='kw'>unless</span> <span class='id identifier rubyid_user'>user</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
		<span class='id identifier rubyid_retVal'>retVal</span> <span class='op'>=</span> <span class='id identifier rubyid_user'>user</span><span class='period'>.</span><span class='id identifier rubyid_fname'>fname</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> </span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span> <span class='id identifier rubyid_user'>user</span><span class='period'>.</span><span class='id identifier rubyid_lname'>lname</span>
	<span class='kw'>end</span>
	<span class='kw'>return</span> <span class='id identifier rubyid_retVal'>retVal</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>
    
    <div id="footer">
  Generated on Wed Feb  1 16:26:47 2012 by 
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.7.4 (ruby-1.9.2).
</div>

  </body>
</html>