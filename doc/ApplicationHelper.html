<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>
  Module: ApplicationHelper
  
    &mdash; Documentation by YARD 0.7.4
  
</title>

  <link rel="stylesheet" href="css/style.css" type="text/css" media="screen" charset="utf-8" />

  <link rel="stylesheet" href="css/common.css" type="text/css" media="screen" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  relpath = '';
  if (relpath != '') relpath += '/';
</script>

  <script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/app.js"></script>


  </head>
  <body>
    <script type="text/javascript" charset="utf-8">
      if (window.top.frames.main) document.body.className = 'frames';
    </script>
    
    <div id="header">
      <div id="menu">
  
    <a href="_index.html">Index (A)</a> &raquo; 
    
    
    <span class="title">ApplicationHelper</span>
  
  
  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  
    <a id="class_list_link" href="#">Class List</a>
  
    <a id="method_list_link" href="#">Method List</a>
  
    <a id="file_list_link" href="#">File List</a>
  
</div>
      <div class="clear"></div>
    </div>
    
    <iframe id="search_frame"></iframe>
    
    <div id="content"><h1>Module: ApplicationHelper
  
  
  
</h1>

<dl class="box">
  
  
    
  
    
  
  
  
    <dt class="r1 last">Defined in:</dt>
    <dd class="r1 last">app/helpers/application_helper.rb</dd>
  
</dl>
<div class="clear"></div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    <p>
This module contains global functions for the application.
</p>


  </div>
</div>
<div class="tags">
  

</div>




  
    <h2>
      Instance Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#ajax_wait_msg-instance_method" title="#ajax_wait_msg (instance method)">- (string) <strong>ajax_wait_msg</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
return html for the &#8220;processing&#8221; message.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#ajax_wait_msg_small-instance_method" title="#ajax_wait_msg_small (instance method)">- (string) <strong>ajax_wait_msg_small</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
return html for the &#8220;processing&#8221; message - smaller image
variant.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#attach_listener_for_other-instance_method" title="#attach_listener_for_other (instance method)">- (string) <strong>attach_listener_for_other</strong>(item_id) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
adds a javascript/jquery ajax listener for fields with &#8216;other&#8217;
item in a dropdown menu.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#create_back_and_continue_for_study-instance_method" title="#create_back_and_continue_for_study (instance method)">- (string) <strong>create_back_and_continue_for_study</strong>(form_id, current_page) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
create back and continue links for a study extraction form page  depending
on the current page and the extraction form id.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#create_crumb_link-instance_method" title="#create_crumb_link (instance method)">- (string) <strong>create_crumb_link</strong>(uri, text, end_of_trail) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
a method to create each individual piece of the breadcrumb based on the
uri, text for the link, and whether or not we&#8217;ve reached the end of
the breadcrumbs.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#create_input-instance_method" title="#create_input (instance method)">- (string) <strong>create_input</strong>(object_id, model_name) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
based on a design detail ID, get the type and options and create the user
input.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#create_input_by_arm-instance_method" title="#create_input_by_arm (instance method)">- (Object) <strong>create_input_by_arm</strong>(object_id, arm_id, model_name) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
based on an object id, get the type and options and create the user input.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#fill_in_subquestion-instance_method" title="#fill_in_subquestion (instance method)">- (string) <strong>fill_in_subquestion</strong>(subq_text, subq_val, subq_field_name, input_type, status) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
when data has already been saved to an input, we determine whether or not
there was an associated subquestion and whether or not it has associated
data.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#get_bread_crumbs-instance_method" title="#get_bread_crumbs (instance method)">- (string) <strong>get_bread_crumbs</strong>(url, sep) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
used at the top of every page (in one of the header partials) displays
bread crumbs based on the user&#8217;s current URL.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#get_camel_caps-instance_method" title="#get_camel_caps (instance method)">- (string) <strong>get_camel_caps</strong>(input) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
a camelcaps function to accept the model as input and return a
representation that can be called with eval to hit the database table.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#get_other_input_element-instance_method" title="#get_other_input_element (instance method)">- (string) <strong>get_other_input_element</strong>(value, id, model) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
if other is selected, create a text input.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#get_other_input_element_by_arm-instance_method" title="#get_other_input_element_by_arm (instance method)">- (string) <strong>get_other_input_element_by_arm</strong>(value, id, arm, model) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
get_other_input_element_by_arm if other is selected, create a text input.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#get_page_info-instance_method" title="#get_page_info (instance method)">- (array) <strong>get_page_info</strong>(request) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
return an array indicating the section we&#8217;re in as well as the ID of
whatever area we&#8217;re looking at.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#get_page_title-instance_method" title="#get_page_title (instance method)">- (string) <strong>get_page_title</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
return the page title based on the current url.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#get_selected-instance_method" title="#get_selected (instance method)">- (Object) <strong>get_selected</strong>(id, model, obj_string) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
get_selected get the value of the item that should be selected for any of
the input methods above.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#get_selected_by_arm-instance_method" title="#get_selected_by_arm (instance method)">- (string) <strong>get_selected_by_arm</strong>(id, arm, model, obj_string) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
get the value of the item that should be selected for any of the input
methods above when they are entered for each arm.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#get_study_entry_url-instance_method" title="#get_study_entry_url (instance method)">- (string) <strong>get_study_entry_url</strong>(pid, sid, eid, name) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
given a project id, study id, extraction form id and page name, create a
link.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#image_url-instance_method" title="#image_url (instance method)">- (string) <strong>image_url</strong>(source) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
return image url based on source.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#match_extraction_form_section-instance_method" title="#match_extraction_form_section (instance method)">- (string) <strong>match_extraction_form_section</strong>(input) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
match the study url suffix to the name of the section.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#remove_paragraph_tags-instance_method" title="#remove_paragraph_tags (instance method)">- (string) <strong>remove_paragraph_tags</strong>(mytext) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
remove p tags from the beginning and end of key questions.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#show_footnotes-instance_method" title="#show_footnotes (instance method)">- (string) <strong>show_footnotes</strong>(val, field_name, study_id) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
find out if any footnotes exist for this field, and if so, attach them to
the  value that is passed back to the form field.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#shrink_text-instance_method" title="#shrink_text (instance method)">- (string) <strong>shrink_text</strong>(text, num_words = 5) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
shrink the text based on the number of words.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#toggle_ahrq_header-instance_method" title="#toggle_ahrq_header (instance method)">- (Object) <strong>toggle_ahrq_header</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
When a user chooses to hide the ahrq header, set a session variable to be
used on subsequent pages.
</p>
</div></span>
  
</li>

      
    </ul>
  



  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>
    
    
      <div class="method_details first">
  <p class="signature first" id="ajax_wait_msg-instance_method">
  
    - (<tt>string</tt>) <strong>ajax_wait_msg</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
return html for the &#8220;processing&#8221; message
</p>


  </div>
</div>
<div class="tags">
  
<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>string</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>
html for message
</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


6
7
8</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/helpers/application_helper.rb', line 6</span>

<span class='kw'>def</span> <span class='id identifier rubyid_ajax_wait_msg'>ajax_wait_msg</span>
	<span class='kw'>return</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&lt;img src=\&quot;/images/waiting.gif\&quot; alt=\&quot;waiting\&quot;&gt; Processing...</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="ajax_wait_msg_small-instance_method">
  
    - (<tt>string</tt>) <strong>ajax_wait_msg_small</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
return html for the &#8220;processing&#8221; message - smaller image
variant
</p>


  </div>
</div>
<div class="tags">
  
<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>string</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>
html for message
</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


12
13
14</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/helpers/application_helper.rb', line 12</span>

<span class='kw'>def</span> <span class='id identifier rubyid_ajax_wait_msg_small'>ajax_wait_msg_small</span>
	<span class='kw'>return</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&lt;img src=\&quot;/images/waiting.gif\&quot; style=\&quot;display:inline\&quot; alt=\&quot;waiting\&quot;&gt;</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="attach_listener_for_other-instance_method">
  
    - (<tt>string</tt>) <strong>attach_listener_for_other</strong>(item_id) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
adds a javascript/jquery ajax listener for fields with &#8216;other&#8217;
item in a dropdown menu
</p>


  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='name'>item_id</span>
      
      
        <span class='type'>(<tt>integer</tt>)</span>
      
      
      
    </li>
  
</ul>

<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>string</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>
javascript listener to return
</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


640
641
642
643</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/helpers/application_helper.rb', line 640</span>

<span class='kw'>def</span> <span class='id identifier rubyid_attach_listener_for_other'>attach_listener_for_other</span> <span class='id identifier rubyid_item_id'>item_id</span>
	<span class='id identifier rubyid_js'>js</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>&lt;script&gt;</span><span class='tstring_end'>'</span></span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>$(&quot;#</span><span class='tstring_end'>'</span></span> <span class='op'>+</span> <span class='id identifier rubyid_item_id'>item_id</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>&quot;).bind(&quot;change&quot;,function(event) {	$.ajax({url: &quot;/application/show_other&quot;,data: {&quot;field_id&quot;:this.id, &quot;field_name&quot;:this.name, &quot;selected&quot;:this.value}});});&lt;/script&gt;</span><span class='tstring_end'>'</span></span>
<span class='kw'>return</span> <span class='id identifier rubyid_js'>js</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="create_back_and_continue_for_study-instance_method">
  
    - (<tt>string</tt>) <strong>create_back_and_continue_for_study</strong>(form_id, current_page) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
create back and continue links for a study extraction form page  depending
on the current page and the extraction form id
</p>


  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='name'>form_id</span>
      
      
        <span class='type'>(<tt>integer</tt>)</span>
      
      
      
    </li>
  
    <li>
      
        <span class='name'>current_page</span>
      
      
        <span class='type'>(<tt>string</tt>)</span>
      
      
      
    </li>
  
</ul>

<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>string</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>
back and continue links based on inputs
</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


650
651
652
653
654
655
656
657
658
659
660
661
662
663
664
665
666
667
668
669
670
671
672
673
674
675
676
677
678
679
680
681
682
683
684
685
686
687
688
689
690
691
692
693
694
695
696
697
698
699
700
701
702
703
704
705</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/helpers/application_helper.rb', line 650</span>

<span class='kw'>def</span> <span class='id identifier rubyid_create_back_and_continue_for_study'>create_back_and_continue_for_study</span> <span class='id identifier rubyid_form_id'>form_id</span><span class='comma'>,</span> <span class='id identifier rubyid_current_page'>current_page</span>	
	<span class='comment'># determine which sections are included in the extraction form and assign them to an array
</span>	<span class='comment'># order the included pages 
</span>	<span class='id identifier rubyid_included_sections'>included_sections</span> <span class='op'>=</span> <span class='const'>ExtractionFormSection</span><span class='period'>.</span><span class='id identifier rubyid_where'>where</span><span class='lparen'>(</span><span class='symbol'>:extraction_form_id</span><span class='op'>=&gt;</span><span class='id identifier rubyid_form_id'>form_id</span><span class='comma'>,</span> <span class='symbol'>:included</span><span class='op'>=&gt;</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>t</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
	<span class='id identifier rubyid_page_names'>page_names</span> <span class='op'>=</span> <span class='id identifier rubyid_included_sections'>included_sections</span><span class='period'>.</span><span class='id identifier rubyid_collect'>collect</span><span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span> <span class='id identifier rubyid_x'>x</span><span class='period'>.</span><span class='id identifier rubyid_section_name'>section_name</span><span class='rbrace'>}</span>
	<span class='id identifier rubyid_page_names'>page_names</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>publications</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>+</span> <span class='id identifier rubyid_page_names'>page_names</span>

	<span class='id identifier rubyid_titles'>titles</span> <span class='op'>=</span> <span class='lbrace'>{</span>
						 <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>arms</span><span class='tstring_end'>&quot;</span></span><span class='op'>=&gt;</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Study Arms</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
						 <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>design</span><span class='tstring_end'>&quot;</span></span><span class='op'>=&gt;</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Design Details</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
						 <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>baselines</span><span class='tstring_end'>&quot;</span></span><span class='op'>=&gt;</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Baseline Characteristics</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
						 <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>outcomes</span><span class='tstring_end'>&quot;</span></span><span class='op'>=&gt;</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Outcome Setup</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
						 <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>results</span><span class='tstring_end'>&quot;</span></span><span class='op'>=&gt;</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Outcome Results</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
						 <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>adverse</span><span class='tstring_end'>&quot;</span></span><span class='op'>=&gt;</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Adverse Events</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
						 <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>quality</span><span class='tstring_end'>&quot;</span></span><span class='op'>=&gt;</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Study Quality</span><span class='tstring_end'>&quot;</span></span>
					<span class='rbrace'>}</span>
	<span class='comment'># find the current page in the array 
</span>	<span class='id identifier rubyid_position'>position</span> <span class='op'>=</span> <span class='id identifier rubyid_page_names'>page_names</span><span class='period'>.</span><span class='id identifier rubyid_index'>index</span><span class='lparen'>(</span><span class='id identifier rubyid_current_page'>current_page</span><span class='rparen'>)</span>
	
	<span class='comment'># get the previous page info
</span>	<span class='comment'># if there are no more entries before this one, link back to the edit instructions
</span><span class='id identifier rubyid_previous_url'>previous_url</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_previous_title'>previous_title</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>if</span> <span class='id identifier rubyid_position'>position</span> <span class='op'>==</span> <span class='int'>0</span> <span class='op'>||</span> <span class='id identifier rubyid_position'>position</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
	<span class='id identifier rubyid_previous_url'>previous_url</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>edit</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>elsif</span> <span class='id identifier rubyid_position'>position</span> <span class='op'>==</span> <span class='int'>1</span>
	<span class='id identifier rubyid_previous_url'>previous_url</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>../../publications</span><span class='tstring_end'>'</span></span>
	<span class='id identifier rubyid_previous_title'>previous_title</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>Extraction Form List</span><span class='tstring_end'>'</span></span>
<span class='kw'>else</span>
	<span class='comment'># otherwise get the previous entry and title
</span>	<span class='id identifier rubyid_previous_url'>previous_url</span> <span class='op'>=</span> <span class='id identifier rubyid_page_names'>page_names</span><span class='lbracket'>[</span><span class='id identifier rubyid_position'>position</span><span class='op'>-</span><span class='int'>1</span><span class='rbracket'>]</span>
	<span class='id identifier rubyid_previous_title'>previous_title</span> <span class='op'>=</span> <span class='id identifier rubyid_titles'>titles</span><span class='lbracket'>[</span><span class='id identifier rubyid_previous_url'>previous_url</span><span class='rbracket'>]</span>
	<span class='kw'>end</span> 
	
	<span class='comment'># get the next page info
</span>	<span class='comment'># if there are no entries after this one, link to the summary page
</span>	<span class='id identifier rubyid_next_url'>next_url</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>
	<span class='id identifier rubyid_next_title'>next_title</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>
	<span class='kw'>if</span> <span class='id identifier rubyid_position'>position</span> <span class='op'>==</span> <span class='int'>0</span> <span class='op'>||</span> <span class='id identifier rubyid_position'>position</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
		<span class='id identifier rubyid_next_url'>next_url</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>extraction_forms/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_form_id'>form_id</span><span class='rbrace'>}</span><span class='tstring_content'>/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_page_names'>page_names</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span>
		<span class='id identifier rubyid_next_title'>next_title</span> <span class='op'>=</span> <span class='id identifier rubyid_titles'>titles</span><span class='lbracket'>[</span><span class='id identifier rubyid_page_names'>page_names</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span><span class='rbracket'>]</span>
	<span class='kw'>elsif</span> <span class='id identifier rubyid_position'>position</span> <span class='op'>==</span> <span class='id identifier rubyid_page_names'>page_names</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span><span class='op'>-</span><span class='int'>1</span>
		<span class='id identifier rubyid_next_url'>next_url</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>summary</span><span class='tstring_end'>&quot;</span></span>
	<span class='kw'>else</span>
		<span class='id identifier rubyid_next_url'>next_url</span> <span class='op'>=</span> <span class='id identifier rubyid_page_names'>page_names</span><span class='lbracket'>[</span><span class='id identifier rubyid_position'>position</span><span class='op'>+</span><span class='int'>1</span><span class='rbracket'>]</span>
		<span class='id identifier rubyid_next_title'>next_title</span> <span class='op'>=</span> <span class='id identifier rubyid_titles'>titles</span><span class='lbracket'>[</span><span class='id identifier rubyid_next_url'>next_url</span><span class='rbracket'>]</span>
	<span class='kw'>end</span>

	<span class='kw'>if</span> <span class='id identifier rubyid_previous_url'>previous_url</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>edit</span><span class='tstring_end'>&quot;</span></span>
		<span class='id identifier rubyid_render'>render</span> <span class='symbol'>:partial</span><span class='op'>=&gt;</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>studies/first_section_back_buttons</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbol'>:locals</span><span class='op'>=&gt;</span><span class='lbrace'>{</span><span class='symbol'>:next_url</span><span class='op'>=&gt;</span><span class='id identifier rubyid_next_url'>next_url</span><span class='comma'>,</span> <span class='symbol'>:next_title</span><span class='op'>=&gt;</span><span class='id identifier rubyid_next_title'>next_title</span><span class='rbrace'>}</span>
	<span class='kw'>elsif</span> <span class='id identifier rubyid_next_url'>next_url</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>summary</span><span class='tstring_end'>&quot;</span></span>
  	<span class='id identifier rubyid_render'>render</span> <span class='symbol'>:partial</span><span class='op'>=&gt;</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>studies/last_section_continue_buttons</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span><span class='symbol'>:locals</span><span class='op'>=&gt;</span><span class='lbrace'>{</span><span class='symbol'>:previous_url</span><span class='op'>=&gt;</span><span class='id identifier rubyid_previous_url'>previous_url</span><span class='comma'>,</span> <span class='symbol'>:previous_title</span><span class='op'>=&gt;</span><span class='id identifier rubyid_previous_title'>previous_title</span><span class='rbrace'>}</span>
  <span class='kw'>else</span>
  	<span class='id identifier rubyid_render'>render</span> <span class='symbol'>:partial</span><span class='op'>=&gt;</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>studies/back_and_continue_buttons</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='symbol'>:locals</span><span class='op'>=&gt;</span><span class='lbrace'>{</span><span class='symbol'>:previous_url</span><span class='op'>=&gt;</span><span class='id identifier rubyid_previous_url'>previous_url</span><span class='comma'>,</span><span class='symbol'>:next_url</span><span class='op'>=&gt;</span><span class='id identifier rubyid_next_url'>next_url</span><span class='comma'>,</span><span class='symbol'>:previous_title</span><span class='op'>=&gt;</span><span class='id identifier rubyid_previous_title'>previous_title</span><span class='comma'>,</span><span class='symbol'>:next_title</span><span class='op'>=&gt;</span><span class='id identifier rubyid_next_title'>next_title</span><span class='rbrace'>}</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="create_crumb_link-instance_method">
  
    - (<tt>string</tt>) <strong>create_crumb_link</strong>(uri, text, end_of_trail) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
a method to create each individual piece of the breadcrumb based on the
uri, text for the link, and whether or not we&#8217;ve reached the end of
the breadcrumbs.
</p>


  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='name'>uri</span>
      
      
        <span class='type'>(<tt>string</tt>)</span>
      
      
      
    </li>
  
    <li>
      
        <span class='name'>text</span>
      
      
        <span class='type'>(<tt>string</tt>)</span>
      
      
      
    </li>
  
    <li>
      
        <span class='name'>end_of_trail</span>
      
      
        <span class='type'>(<tt>boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>string</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>
link
</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


213
214
215
216
217
218
219
220
221
222</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/helpers/application_helper.rb', line 213</span>

<span class='kw'>def</span> <span class='id identifier rubyid_create_crumb_link'>create_crumb_link</span><span class='lparen'>(</span><span class='id identifier rubyid_uri'>uri</span><span class='comma'>,</span><span class='id identifier rubyid_text'>text</span><span class='comma'>,</span><span class='id identifier rubyid_end_of_trail'>end_of_trail</span><span class='rparen'>)</span>
	<span class='id identifier rubyid_link'>link</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>
	<span class='kw'>if</span> <span class='id identifier rubyid_end_of_trail'>end_of_trail</span>
		<span class='comment'>#link = link_to(text.to_s, uri.to_s, :style=&gt;&quot;font-weight: bold&quot;)
</span>		<span class='id identifier rubyid_link'>link</span> <span class='op'>=</span> <span class='id identifier rubyid_render'>render</span> <span class='symbol'>:inline</span><span class='op'>=&gt;</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&lt;strong&gt;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_text'>text</span><span class='rbrace'>}</span><span class='tstring_content'>&lt;/strong&gt;</span><span class='tstring_end'>&quot;</span></span>
	<span class='kw'>else</span>
		<span class='id identifier rubyid_link'>link</span> <span class='op'>=</span> <span class='id identifier rubyid_link_to'>link_to</span><span class='lparen'>(</span><span class='id identifier rubyid_shrink_text'>shrink_text</span><span class='lparen'>(</span><span class='id identifier rubyid_text'>text</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='id identifier rubyid_uri'>uri</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='rparen'>)</span>
	<span class='kw'>end</span>
	<span class='kw'>return</span> <span class='id identifier rubyid_link'>link</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="create_input-instance_method">
  
    - (<tt>string</tt>) <strong>create_input</strong>(object_id, model_name) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
based on a design detail ID, get the type and options and create the user
input. type can be: radio, text, checkbox or select options will be passed
in as an array
</p>


  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='name'>object_id</span>
      
      
        <span class='type'>(<tt>integer</tt>)</span>
      
      
      
    </li>
  
    <li>
      
        <span class='name'>model_name</span>
      
      
        <span class='type'>(<tt>string</tt>)</span>
      
      
      
    </li>
  
</ul>

<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>string</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/helpers/application_helper.rb', line 265</span>

<span class='kw'>def</span> <span class='id identifier rubyid_create_input'>create_input</span> <span class='id identifier rubyid_object_id'>object_id</span><span class='comma'>,</span> <span class='id identifier rubyid_model_name'>model_name</span>
	<span class='id identifier rubyid_obj_id'>obj_id</span> <span class='op'>=</span> <span class='id identifier rubyid_object_id'>object_id</span>
	<span class='id identifier rubyid_obj_string'>obj_string</span> <span class='op'>=</span> <span class='id identifier rubyid_get_camel_caps'>get_camel_caps</span><span class='lparen'>(</span><span class='id identifier rubyid_model_name'>model_name</span><span class='rparen'>)</span>
	<span class='id identifier rubyid_obj'>obj</span> <span class='op'>=</span> <span class='id identifier rubyid_eval'>eval</span><span class='lparen'>(</span><span class='id identifier rubyid_obj_string'>obj_string</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_find'>find</span><span class='lparen'>(</span><span class='id identifier rubyid_obj_id'>obj_id</span><span class='rparen'>)</span>
	<span class='id identifier rubyid_obj_type'>obj_type</span> <span class='op'>=</span> <span class='id identifier rubyid_obj'>obj</span><span class='period'>.</span><span class='id identifier rubyid_field_type'>field_type</span>
	<span class='id identifier rubyid_subq_field_name'>subq_field_name</span> <span class='op'>=</span> <span class='id identifier rubyid_model_name'>model_name</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>_sub[</span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span> <span class='id identifier rubyid_obj_id'>obj_id</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>]</span><span class='tstring_end'>&quot;</span></span>
	
	<span class='id identifier rubyid_retVal'>retVal</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>
	<span class='comment'># if this is a text field there are no options. otherwise, get the options
</span>	<span class='kw'>unless</span> <span class='id identifier rubyid_obj_type'>obj_type</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>text</span><span class='tstring_end'>&quot;</span></span>
 	<span class='comment'># gather options for this field
</span> 	<span class='id identifier rubyid_question_choices'>question_choices</span> <span class='op'>=</span> <span class='id identifier rubyid_eval'>eval</span><span class='lparen'>(</span><span class='id identifier rubyid_obj_string'>obj_string</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Field</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_where'>where</span><span class='lparen'>(</span><span class='id identifier rubyid_model_name'>model_name</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>_id</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_obj_id'>obj_id</span><span class='rparen'>)</span>
 	<span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='id identifier rubyid_question_choices'>question_choices</span><span class='period'>.</span><span class='id identifier rubyid_collect'>collect</span><span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_opt'>opt</span><span class='op'>|</span> <span class='id identifier rubyid_opt'>opt</span><span class='period'>.</span><span class='id identifier rubyid_option_text'>option_text</span><span class='rbrace'>}</span>
 	
	<span class='kw'>end</span>
	<span class='id identifier rubyid_chosen_values'>chosen_values</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
	<span class='comment'>#unless session[:study_id].nil?
</span>	<span class='kw'>unless</span> <span class='ivar'>@study</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
		<span class='id identifier rubyid_chosen'>chosen</span> <span class='op'>=</span> <span class='id identifier rubyid_get_selected'>get_selected</span><span class='lparen'>(</span><span class='id identifier rubyid_obj_id'>obj_id</span><span class='comma'>,</span> <span class='id identifier rubyid_model_name'>model_name</span><span class='comma'>,</span> <span class='id identifier rubyid_obj_string'>obj_string</span><span class='rparen'>)</span>
		<span class='id identifier rubyid_chosen_values'>chosen_values</span> <span class='op'>=</span> <span class='id identifier rubyid_chosen'>chosen</span><span class='period'>.</span><span class='id identifier rubyid_collect'>collect</span><span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span> <span class='id identifier rubyid_x'>x</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='rbrace'>}</span>
		<span class='id identifier rubyid_chosen_subqs'>chosen_subqs</span> <span class='op'>=</span> <span class='id identifier rubyid_chosen'>chosen</span><span class='period'>.</span><span class='id identifier rubyid_collect'>collect</span><span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span> <span class='id identifier rubyid_x'>x</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span><span class='rbrace'>}</span>
	<span class='kw'>end</span>
	<span class='kw'>case</span> <span class='id identifier rubyid_obj_type'>obj_type</span>
	<span class='comment'># RADIO BUTTON INPUTS
</span>	<span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>radio</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>yesno</span><span class='tstring_end'>&quot;</span></span>
		<span class='id identifier rubyid_i'>i</span><span class='op'>=</span><span class='int'>0</span>
		<span class='id identifier rubyid_options'>options</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_option'>option</span><span class='op'>|</span>
			<span class='id identifier rubyid_checked'>checked</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>
			<span class='kw'>if</span> <span class='id identifier rubyid_chosen_values'>chosen_values</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_option'>option</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='rparen'>)</span>
				<span class='id identifier rubyid_checked'>checked</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>CHECKED</span><span class='tstring_end'>&quot;</span></span>
			<span class='kw'>end</span>
			
			<span class='id identifier rubyid_retVal'>retVal</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>&lt;input class=&quot;question_radio_input editable_field&quot; title=&quot;option&quot; type=&quot;radio&quot; option_id=&quot;</span><span class='tstring_end'>'</span></span><span class='op'>+</span><span class='id identifier rubyid_question_choices'>question_choices</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='op'>+</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>&quot; obj_id=&quot;</span><span class='tstring_end'>'</span></span><span class='op'>+</span><span class='id identifier rubyid_obj'>obj</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='op'>+</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>&quot; name=&quot;</span><span class='tstring_end'>'</span></span><span class='op'>+</span><span class='id identifier rubyid_model_name'>model_name</span><span class='op'>+</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>[</span><span class='tstring_end'>'</span></span><span class='op'>+</span><span class='id identifier rubyid_obj_id'>obj_id</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='op'>+</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>]&quot; value=&quot;</span><span class='tstring_end'>'</span></span> <span class='op'>+</span> <span class='id identifier rubyid_option'>option</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>&quot; </span><span class='tstring_end'>'</span></span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>id = &quot;</span><span class='tstring_end'>'</span></span> <span class='op'>+</span> <span class='id identifier rubyid_model_name'>model_name</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>_</span><span class='tstring_end'>'</span></span> <span class='op'>+</span> <span class='id identifier rubyid_obj_id'>obj_id</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>&quot; </span><span class='tstring_end'>'</span></span> <span class='op'>+</span> <span class='id identifier rubyid_checked'>checked</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>&gt; </span><span class='tstring_end'>'</span></span> <span class='op'>+</span> <span class='id identifier rubyid_option'>option</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span>
			
			<span class='kw'>if</span> <span class='id identifier rubyid_question_choices'>question_choices</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_has_subquestion'>has_subquestion</span>
				<span class='comment'>#retVal += '... &lt;span class=&quot;radio_group_'+obj_id.to_s+'&quot; id=&quot;option_' + question_choices[i].id.to_s + '_sq_span&quot;&gt;'
</span>				<span class='id identifier rubyid_retVal'>retVal</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>...&lt;span class='radio_group_</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_obj_id'>obj_id</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='rbrace'>}</span><span class='tstring_content'>' id='option_</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_question_choices'>question_choices</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='rbrace'>}</span><span class='tstring_content'>_sq_span'&gt;</span><span class='tstring_end'>&quot;</span></span>
				<span class='id identifier rubyid_disabled'>disabled</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>

        <span class='kw'>if</span> <span class='id identifier rubyid_checked'>checked</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>CHECKED</span><span class='tstring_end'>&quot;</span></span>
        	<span class='id identifier rubyid_subq_val'>subq_val</span> <span class='op'>=</span> <span class='id identifier rubyid_chosen_subqs'>chosen_subqs</span><span class='lbracket'>[</span><span class='id identifier rubyid_chosen_values'>chosen_values</span><span class='period'>.</span><span class='id identifier rubyid_index'>index</span><span class='lparen'>(</span><span class='id identifier rubyid_option'>option</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='rparen'>)</span><span class='rbracket'>]</span>
        	<span class='id identifier rubyid_retVal'>retVal</span> <span class='op'>+=</span> <span class='id identifier rubyid_fill_in_subquestion'>fill_in_subquestion</span><span class='lparen'>(</span><span class='id identifier rubyid_question_choices'>question_choices</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_subquestion'>subquestion</span><span class='comma'>,</span> <span class='id identifier rubyid_subq_val'>subq_val</span><span class='comma'>,</span> <span class='id identifier rubyid_subq_field_name'>subq_field_name</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>radio</span><span class='tstring_end'>'</span></span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>false</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
        <span class='kw'>else</span>
        	<span class='id identifier rubyid_retVal'>retVal</span> <span class='op'>+=</span> <span class='id identifier rubyid_fill_in_subquestion'>fill_in_subquestion</span><span class='lparen'>(</span><span class='id identifier rubyid_question_choices'>question_choices</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_subquestion'>subquestion</span><span class='comma'>,</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_subq_field_name'>subq_field_name</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>radio</span><span class='tstring_end'>'</span></span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>disabled</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
        <span class='kw'>end</span>
				<span class='id identifier rubyid_retVal'>retVal</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>&lt;/span&gt;</span><span class='tstring_end'>'</span></span>
			<span class='kw'>end</span>
			<span class='id identifier rubyid_retVal'>retVal</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&lt;br/&gt;</span><span class='tstring_end'>&quot;</span></span>
			<span class='id identifier rubyid_i'>i</span><span class='op'>+=</span><span class='int'>1</span>	
		<span class='kw'>end</span>
<span class='comment'># SELECT (DROPDOWN BOX) INPUTS
</span><span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>select</span><span class='tstring_end'>&quot;</span></span>
		<span class='id identifier rubyid_retVal'>retVal</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>&lt;select class=&quot;question_select_input editable_field&quot; title=&quot;question&quot; obj_id=&quot;</span><span class='tstring_end'>'</span></span><span class='op'>+</span><span class='id identifier rubyid_obj_id'>obj_id</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='op'>+</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>&quot; name=&quot;</span><span class='tstring_end'>'</span></span><span class='op'>+</span><span class='id identifier rubyid_model_name'>model_name</span><span class='op'>+</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>[</span><span class='tstring_end'>'</span></span><span class='op'>+</span><span class='id identifier rubyid_obj_id'>obj_id</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='op'>+</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>]&quot; id=&quot;</span><span class='tstring_end'>'</span></span><span class='op'>+</span><span class='id identifier rubyid_model_name'>model_name</span><span class='op'>+</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>_</span><span class='tstring_end'>'</span></span><span class='op'>+</span><span class='id identifier rubyid_obj_id'>obj_id</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='op'>+</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>&quot;&gt;</span><span class='tstring_end'>'</span></span>
		<span class='comment'># NO LONGER USING THE AUTO-OTHER FIELD
</span>		<span class='comment'>#retVal += attach_listener_for_other(model_name+&quot;_&quot;+obj_id.to_s)
</span>		
		<span class='comment'>#some variables for showing the other fields
</span>		
		<span class='comment'># WE ARE NO LONGER USING THE 'OTHER' FIELD SINCE USERS CAN ADD THEIR OWN
</span>		<span class='comment'>#options &lt;&lt; 'Other'
</span>		<span class='id identifier rubyid_text_input'>text_input</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>
		<span class='id identifier rubyid_found_it'>found_it</span> <span class='op'>=</span> <span class='kw'>false</span>
		<span class='id identifier rubyid_found_at_index'>found_at_index</span> <span class='op'>=</span> <span class='op'>-</span><span class='int'>1</span>
		<span class='id identifier rubyid_i'>i</span><span class='op'>=</span><span class='int'>0</span>
		<span class='id identifier rubyid_retVal'>retVal</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&lt;option value='' &gt;-- Make Your Selection --&lt;/option&gt;</span><span class='tstring_end'>&quot;</span></span>
		<span class='id identifier rubyid_options'>options</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_option'>option</span><span class='op'>|</span>
			<span class='id identifier rubyid_selected'>selected</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>
			<span class='kw'>if</span> <span class='id identifier rubyid_chosen_values'>chosen_values</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_option'>option</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='rparen'>)</span>
				<span class='id identifier rubyid_selected'>selected</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>SELECTED</span><span class='tstring_end'>&quot;</span></span>
				<span class='id identifier rubyid_found_it'>found_it</span> <span class='op'>=</span> <span class='kw'>true</span>
				<span class='id identifier rubyid_found_at_index'>found_at_index</span> <span class='op'>=</span> <span class='id identifier rubyid_i'>i</span>
			<span class='comment'># NO LONGER USING THE AUTOMATIC 'OTHER' FIELD
</span>			<span class='comment'>#elsif chosen_values.length &gt; 0 &amp;&amp; !found_it &amp;&amp; option.to_s == &quot;Other&quot;
</span>			<span class='comment'>#	selected = &quot;SELECTED&quot;
</span>			<span class='comment'>#	text_input = get_other_input_element(chosen_values[0], obj_id.to_s, model_name)
</span>		<span class='kw'>end</span>
		<span class='id identifier rubyid_continued'>continued</span><span class='op'>=</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>
		<span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_question_choices'>question_choices</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> 
			<span class='kw'>if</span> <span class='id identifier rubyid_question_choices'>question_choices</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_has_subquestion'>has_subquestion</span>
				<span class='id identifier rubyid_continued'>continued</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>...</span><span class='tstring_end'>&quot;</span></span>
			<span class='kw'>end</span>
		<span class='kw'>end</span>

			<span class='id identifier rubyid_retVal'>retVal</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>&lt;option value=&quot;</span><span class='tstring_end'>'</span></span> <span class='op'>+</span> <span class='id identifier rubyid_option'>option</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>&quot; </span><span class='tstring_end'>'</span></span> <span class='op'>+</span> <span class='id identifier rubyid_selected'>selected</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&gt;</span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span> <span class='id identifier rubyid_option'>option</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='op'>+</span> <span class='id identifier rubyid_continued'>continued</span><span class='op'>+</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&lt;/option&gt;</span><span class='tstring_end'>&quot;</span></span>
			<span class='id identifier rubyid_i'>i</span><span class='op'>+=</span><span class='int'>1</span>
		<span class='kw'>end</span>
		<span class='id identifier rubyid_retVal'>retVal</span> <span class='op'>+=</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&lt;/select&gt; &amp;nbsp;&lt;span id='select_</span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span> <span class='id identifier rubyid_obj_id'>obj_id</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>_sq_span'&gt;</span><span class='tstring_end'>&quot;</span></span>
		  <span class='kw'>if</span> <span class='id identifier rubyid_found_it'>found_it</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_found_at_index'>found_at_index</span> <span class='op'>&gt;</span> <span class='op'>-</span><span class='int'>1</span>
		  	<span class='kw'>if</span> <span class='id identifier rubyid_question_choices'>question_choices</span><span class='lbracket'>[</span><span class='id identifier rubyid_found_at_index'>found_at_index</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_has_subquestion'>has_subquestion</span>
		  		<span class='id identifier rubyid_subq_val'>subq_val</span> <span class='op'>=</span> <span class='id identifier rubyid_chosen_subqs'>chosen_subqs</span><span class='lbracket'>[</span><span class='id identifier rubyid_chosen_values'>chosen_values</span><span class='period'>.</span><span class='id identifier rubyid_index'>index</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='id identifier rubyid_found_at_index'>found_at_index</span><span class='rbracket'>]</span><span class='rparen'>)</span><span class='rbracket'>]</span>
			  <span class='id identifier rubyid_retVal'>retVal</span> <span class='op'>+=</span> <span class='id identifier rubyid_fill_in_subquestion'>fill_in_subquestion</span><span class='lparen'>(</span><span class='id identifier rubyid_question_choices'>question_choices</span><span class='lbracket'>[</span><span class='id identifier rubyid_found_at_index'>found_at_index</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_subquestion'>subquestion</span><span class='comma'>,</span> <span class='id identifier rubyid_subq_val'>subq_val</span><span class='comma'>,</span> <span class='id identifier rubyid_subq_field_name'>subq_field_name</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>select</span><span class='tstring_end'>'</span></span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>false</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
		  	<span class='kw'>end</span>
		  <span class='comment'>## TOOK OUT THE FOLLOWING LINES WHEN ADDING IN 'MAKE YOUR SELECTION' OPTION
</span>		  <span class='comment'>#elsif	question_choices[0].has_subquestion
</span>		  <span class='comment'>#	retVal += fill_in_subquestion(question_choices[0].subquestion,nil,subq_field_name,&quot;select&quot;,false)
</span>		  <span class='kw'>end</span>
		  	
		<span class='id identifier rubyid_retVal'>retVal</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&lt;/span&gt;</span><span class='tstring_end'>&quot;</span></span>
	  <span class='id identifier rubyid_retVal'>retVal</span> <span class='op'>+=</span> <span class='id identifier rubyid_text_input'>text_input</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span>
<span class='comment'># CHECKBOX INPUTS
</span><span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>checkbox</span><span class='tstring_end'>&quot;</span></span>
	<span class='id identifier rubyid_i'>i</span><span class='op'>=</span><span class='int'>0</span>
	<span class='id identifier rubyid_options'>options</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_option'>option</span><span class='op'>|</span>
		<span class='id identifier rubyid_checked'>checked</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>
			<span class='kw'>if</span> <span class='id identifier rubyid_chosen_values'>chosen_values</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_option'>option</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='rparen'>)</span>
				<span class='id identifier rubyid_checked'>checked</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>checked</span><span class='tstring_end'>&quot;</span></span>
			<span class='kw'>end</span>
			<span class='id identifier rubyid_retVal'>retVal</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>&lt;input type=&quot;checkbox&quot;  title=&quot;option&quot; class=&quot;question_checkbox_input editable_field&quot; </span><span class='tstring_end'>'</span></span> <span class='op'>+</span> <span class='id identifier rubyid_checked'>checked</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'> option_id=&quot;</span><span class='tstring_end'>'</span></span><span class='op'>+</span><span class='id identifier rubyid_question_choices'>question_choices</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='op'>+</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>&quot; obj_id=&quot;</span><span class='tstring_end'>'</span></span><span class='op'>+</span><span class='id identifier rubyid_obj_id'>obj_id</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='op'>+</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>&quot; name=&quot;</span><span class='tstring_end'>'</span></span><span class='op'>+</span><span class='id identifier rubyid_model_name'>model_name</span><span class='op'>+</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>[</span><span class='tstring_end'>'</span></span><span class='op'>+</span><span class='id identifier rubyid_obj_id'>obj_id</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='op'>+</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>][]&quot; id=&quot;</span><span class='tstring_end'>'</span></span><span class='op'>+</span><span class='id identifier rubyid_model_name'>model_name</span><span class='op'>+</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>_</span><span class='tstring_end'>'</span></span><span class='op'>+</span><span class='id identifier rubyid_obj_id'>obj_id</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='op'>+</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>&quot; value=&quot;</span><span class='tstring_end'>'</span></span> <span class='op'>+</span> <span class='id identifier rubyid_option'>option</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>&quot;&gt; </span><span class='tstring_end'>'</span></span> <span class='op'>+</span> <span class='id identifier rubyid_option'>option</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> 
			
			<span class='kw'>if</span> <span class='id identifier rubyid_question_choices'>question_choices</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_has_subquestion'>has_subquestion</span>
				<span class='id identifier rubyid_retVal'>retVal</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>... &lt;span class=&quot;checkbox_group_</span><span class='tstring_end'>'</span></span><span class='op'>+</span><span class='id identifier rubyid_obj_id'>obj_id</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='op'>+</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>&quot; id=&quot;option_</span><span class='tstring_end'>'</span></span> <span class='op'>+</span> <span class='id identifier rubyid_question_choices'>question_choices</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>_sq_span&quot;&gt;</span><span class='tstring_end'>'</span></span>
				
				<span class='id identifier rubyid_field_name'>field_name</span> <span class='op'>=</span> <span class='id identifier rubyid_model_name'>model_name</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>_sub[</span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span> <span class='id identifier rubyid_obj_id'>obj_id</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>][</span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span> <span class='id identifier rubyid_question_choices'>question_choices</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>]</span><span class='tstring_end'>&quot;</span></span>
				
				<span class='kw'>if</span> <span class='id identifier rubyid_checked'>checked</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>checked</span><span class='tstring_end'>&quot;</span></span>
					<span class='id identifier rubyid_subq_val'>subq_val</span> <span class='op'>=</span> <span class='id identifier rubyid_chosen_subqs'>chosen_subqs</span><span class='lbracket'>[</span><span class='id identifier rubyid_chosen_values'>chosen_values</span><span class='period'>.</span><span class='id identifier rubyid_index'>index</span><span class='lparen'>(</span><span class='id identifier rubyid_option'>option</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='rparen'>)</span><span class='rbracket'>]</span>
					<span class='id identifier rubyid_retVal'>retVal</span> <span class='op'>+=</span> <span class='id identifier rubyid_fill_in_subquestion'>fill_in_subquestion</span><span class='lparen'>(</span><span class='id identifier rubyid_question_choices'>question_choices</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_subquestion'>subquestion</span><span class='comma'>,</span> <span class='id identifier rubyid_subq_val'>subq_val</span><span class='comma'>,</span> <span class='id identifier rubyid_field_name'>field_name</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>checkbox</span><span class='tstring_end'>'</span></span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
				<span class='kw'>else</span> 
					<span class='id identifier rubyid_retVal'>retVal</span> <span class='op'>+=</span> <span class='id identifier rubyid_fill_in_subquestion'>fill_in_subquestion</span><span class='lparen'>(</span><span class='id identifier rubyid_question_choices'>question_choices</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_subquestion'>subquestion</span><span class='comma'>,</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_field_name'>field_name</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>checkbox</span><span class='tstring_end'>'</span></span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>disabled</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
				<span class='kw'>end</span>
				<span class='id identifier rubyid_retVal'>retVal</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>&lt;/span&gt;</span><span class='tstring_end'>'</span></span>
			<span class='kw'>end</span>
			<span class='id identifier rubyid_retVal'>retVal</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&lt;br/&gt;</span><span class='tstring_end'>&quot;</span></span>
			<span class='id identifier rubyid_i'>i</span><span class='op'>+=</span><span class='int'>1</span>	
		<span class='kw'>end</span>
		
	<span class='kw'>else</span>
		
		<span class='id identifier rubyid_value'>value</span><span class='op'>=</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>
		<span class='kw'>unless</span> <span class='id identifier rubyid_chosen_values'>chosen_values</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
			<span class='id identifier rubyid_value'>value</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>value='</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_chosen_values'>chosen_values</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='rbrace'>}</span><span class='tstring_content'>'</span><span class='tstring_end'>&quot;</span></span>
		<span class='kw'>end</span>
		<span class='comment'>#retVal += '&lt;input type=&quot;text&quot;&quot; class=&quot;editable_field&quot; id=&quot;'+model_name+'_'+obj_id.to_s+'&quot; name=&quot;'+model_name+'[' + obj_id.to_s+ ']&quot;' + value +'&gt;'
</span>		<span class='id identifier rubyid_retVal'>retVal</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&lt;textarea cols=66 rows=1 class='editable_field' id='</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_model_name'>model_name</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>_</span><span class='tstring_end'>'</span></span> <span class='op'>+</span> <span class='id identifier rubyid_obj_id'>obj_id</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='rbrace'>}</span><span class='tstring_content'>' name='</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_model_name'>model_name</span><span class='op'>+</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>[</span><span class='tstring_end'>'</span></span><span class='op'>+</span><span class='id identifier rubyid_obj_id'>obj_id</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='op'>+</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>]</span><span class='tstring_end'>'</span></span><span class='rbrace'>}</span><span class='tstring_content'>'&gt;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_chosen_values'>chosen_values</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span><span class='rbrace'>}</span><span class='tstring_content'>&lt;/textarea&gt;</span><span class='tstring_end'>&quot;</span></span>
	<span class='kw'>end</span>
	<span class='kw'>return</span> <span class='id identifier rubyid_retVal'>retVal</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="create_input_by_arm-instance_method">
  
    - (<tt>Object</tt>) <strong>create_input_by_arm</strong>(object_id, arm_id, model_name) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
based on an object id, get the type and options and create the user input.
type can be: radio, text, checkbox or select options will be passed in as
an array then, create the inputs; one for each arm in the study being
extracted.
</p>


  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='name'>object_id</span>
      
      
        <span class='type'>(<tt>integer</tt>)</span>
      
      
      
    </li>
  
    <li>
      
        <span class='name'>arm_id</span>
      
      
        <span class='type'>(<tt>integer</tt>)</span>
      
      
      
    </li>
  
    <li>
      
        <span class='name'>model_name</span>
      
      
        <span class='type'>(<tt>string</tt>)</span>
      
      
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


441
442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458
459
460
461
462
463
464
465
466
467
468
469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489
490
491
492
493
494
495
496
497
498
499
500
501
502
503
504
505
506
507
508
509
510
511
512
513
514
515
516
517
518
519
520
521
522
523
524
525
526
527
528
529
530
531
532
533
534
535
536
537
538
539
540
541
542
543
544
545
546
547
548
549
550
551
552
553
554
555
556
557
558
559
560
561
562
563
564
565
566
567
568
569
570</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/helpers/application_helper.rb', line 441</span>

<span class='kw'>def</span> <span class='id identifier rubyid_create_input_by_arm'>create_input_by_arm</span> <span class='id identifier rubyid_object_id'>object_id</span><span class='comma'>,</span> <span class='id identifier rubyid_arm_id'>arm_id</span><span class='comma'>,</span> <span class='id identifier rubyid_model_name'>model_name</span>
	<span class='id identifier rubyid_obj_id'>obj_id</span> <span class='op'>=</span> <span class='id identifier rubyid_object_id'>object_id</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span>
	<span class='id identifier rubyid_obj_string'>obj_string</span> <span class='op'>=</span> <span class='id identifier rubyid_get_camel_caps'>get_camel_caps</span><span class='lparen'>(</span><span class='id identifier rubyid_model_name'>model_name</span><span class='rparen'>)</span>
	<span class='id identifier rubyid_obj'>obj</span> <span class='op'>=</span> <span class='id identifier rubyid_eval'>eval</span><span class='lparen'>(</span><span class='id identifier rubyid_obj_string'>obj_string</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_find'>find</span><span class='lparen'>(</span><span class='id identifier rubyid_obj_id'>obj_id</span><span class='rparen'>)</span>
	<span class='id identifier rubyid_obj_type'>obj_type</span> <span class='op'>=</span> <span class='id identifier rubyid_obj'>obj</span><span class='period'>.</span><span class='id identifier rubyid_field_type'>field_type</span>
	<span class='id identifier rubyid_subq_field_name'>subq_field_name</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_model_name'>model_name</span><span class='rbrace'>}</span><span class='tstring_content'>_sub[</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_obj_id'>obj_id</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='rbrace'>}</span><span class='tstring_content'>_</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_arm_id'>arm_id</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='rbrace'>}</span><span class='tstring_content'>]</span><span class='tstring_end'>&quot;</span></span>
	
	<span class='id identifier rubyid_retVal'>retVal</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>
	<span class='comment'># if this is a text field there are no options. otherwise, get the options
</span>	<span class='kw'>unless</span> <span class='id identifier rubyid_obj_type'>obj_type</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>text</span><span class='tstring_end'>&quot;</span></span>
 	<span class='comment'># gather options for this field
</span> 	<span class='id identifier rubyid_question_choices'>question_choices</span> <span class='op'>=</span> <span class='id identifier rubyid_eval'>eval</span><span class='lparen'>(</span><span class='id identifier rubyid_obj_string'>obj_string</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Field</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_where'>where</span><span class='lparen'>(</span><span class='id identifier rubyid_model_name'>model_name</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>_id</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_obj_id'>obj_id</span><span class='rparen'>)</span>
 	<span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='id identifier rubyid_question_choices'>question_choices</span><span class='period'>.</span><span class='id identifier rubyid_collect'>collect</span><span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_opt'>opt</span><span class='op'>|</span> <span class='id identifier rubyid_opt'>opt</span><span class='period'>.</span><span class='id identifier rubyid_option_text'>option_text</span><span class='rbrace'>}</span>
	<span class='kw'>end</span>
	<span class='id identifier rubyid_chosen_values'>chosen_values</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
	<span class='kw'>unless</span> <span class='ivar'>@study</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
	<span class='comment'>#unless params[:study_id].nil?
</span>		<span class='id identifier rubyid_chosen'>chosen</span> <span class='op'>=</span> <span class='id identifier rubyid_get_selected_by_arm'>get_selected_by_arm</span><span class='lparen'>(</span><span class='id identifier rubyid_obj_id'>obj_id</span><span class='comma'>,</span> <span class='id identifier rubyid_arm_id'>arm_id</span><span class='comma'>,</span> <span class='id identifier rubyid_model_name'>model_name</span><span class='comma'>,</span> <span class='id identifier rubyid_obj_string'>obj_string</span><span class='rparen'>)</span>
		<span class='id identifier rubyid_chosen_values'>chosen_values</span> <span class='op'>=</span> <span class='id identifier rubyid_chosen'>chosen</span><span class='period'>.</span><span class='id identifier rubyid_collect'>collect</span><span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span> <span class='id identifier rubyid_x'>x</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='rbrace'>}</span>
		<span class='id identifier rubyid_chosen_subqs'>chosen_subqs</span> <span class='op'>=</span> <span class='id identifier rubyid_chosen'>chosen</span><span class='period'>.</span><span class='id identifier rubyid_collect'>collect</span><span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span> <span class='id identifier rubyid_x'>x</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span><span class='rbrace'>}</span>
	<span class='kw'>end</span>
	<span class='kw'>case</span> <span class='id identifier rubyid_obj_type'>obj_type</span>
	
	<span class='comment'># RADIO INPUTS (includes YES/NO)
</span><span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>radio</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>yesno</span><span class='tstring_end'>&quot;</span></span>
		<span class='id identifier rubyid_i'>i</span><span class='op'>=</span><span class='int'>0</span>
		<span class='id identifier rubyid_options'>options</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_option'>option</span><span class='op'>|</span>
			<span class='id identifier rubyid_checked'>checked</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>
			<span class='kw'>if</span> <span class='id identifier rubyid_chosen_values'>chosen_values</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_option'>option</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='rparen'>)</span>
				<span class='id identifier rubyid_checked'>checked</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>CHECKED</span><span class='tstring_end'>&quot;</span></span>
			<span class='kw'>end</span>
			<span class='id identifier rubyid_retVal'>retVal</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>&lt;input class=&quot;question_radio_input editable_field&quot; title=&quot;option&quot; type=&quot;radio&quot; option_id=&quot;</span><span class='tstring_end'>'</span></span><span class='op'>+</span><span class='id identifier rubyid_question_choices'>question_choices</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='op'>+</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>&quot; arm_id=&quot;</span><span class='tstring_end'>'</span></span> <span class='op'>+</span> <span class='id identifier rubyid_arm_id'>arm_id</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>&quot; obj_id=&quot;</span><span class='tstring_end'>'</span></span> <span class='op'>+</span> <span class='id identifier rubyid_obj_id'>obj_id</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>&quot; name=&quot;</span><span class='tstring_end'>'</span></span><span class='op'>+</span><span class='id identifier rubyid_model_name'>model_name</span><span class='op'>+</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>[</span><span class='tstring_end'>'</span></span><span class='op'>+</span><span class='id identifier rubyid_obj_id'>obj_id</span><span class='op'>+</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>_</span><span class='tstring_end'>'</span></span><span class='op'>+</span><span class='id identifier rubyid_arm_id'>arm_id</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='op'>+</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>]&quot; value=&quot;</span><span class='tstring_end'>'</span></span> <span class='op'>+</span> <span class='id identifier rubyid_option'>option</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>&quot; </span><span class='tstring_end'>'</span></span> <span class='op'>+</span> <span class='id identifier rubyid_checked'>checked</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>&gt; </span><span class='tstring_end'>'</span></span> <span class='op'>+</span> <span class='id identifier rubyid_option'>option</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> 
			
			<span class='kw'>if</span> <span class='id identifier rubyid_question_choices'>question_choices</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_has_subquestion'>has_subquestion</span>
				<span class='id identifier rubyid_retVal'>retVal</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>... &lt;span class=&quot;radio_group_</span><span class='tstring_end'>'</span></span><span class='op'>+</span><span class='id identifier rubyid_obj_id'>obj_id</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='op'>+</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>_</span><span class='tstring_end'>'</span></span><span class='op'>+</span><span class='id identifier rubyid_arm_id'>arm_id</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='op'>+</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>&quot; id=&quot;option_</span><span class='tstring_end'>'</span></span> <span class='op'>+</span> <span class='id identifier rubyid_question_choices'>question_choices</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>_</span><span class='tstring_end'>'</span></span><span class='op'>+</span><span class='id identifier rubyid_arm_id'>arm_id</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='op'>+</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>_sq_span&quot;&gt;</span><span class='tstring_end'>'</span></span>
				<span class='kw'>if</span> <span class='id identifier rubyid_checked'>checked</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>CHECKED</span><span class='tstring_end'>&quot;</span></span>
					<span class='id identifier rubyid_subq_val'>subq_val</span> <span class='op'>=</span> <span class='id identifier rubyid_chosen_subqs'>chosen_subqs</span><span class='lbracket'>[</span><span class='id identifier rubyid_chosen_values'>chosen_values</span><span class='period'>.</span><span class='id identifier rubyid_index'>index</span><span class='lparen'>(</span><span class='id identifier rubyid_option'>option</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='rparen'>)</span><span class='rbracket'>]</span>
					<span class='id identifier rubyid_retVal'>retVal</span> <span class='op'>+=</span> <span class='id identifier rubyid_fill_in_subquestion'>fill_in_subquestion</span><span class='lparen'>(</span><span class='id identifier rubyid_question_choices'>question_choices</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_subquestion'>subquestion</span><span class='comma'>,</span> <span class='id identifier rubyid_subq_val'>subq_val</span><span class='comma'>,</span> <span class='id identifier rubyid_subq_field_name'>subq_field_name</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>radio</span><span class='tstring_end'>'</span></span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>false</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>
				<span class='kw'>else</span> 
					<span class='id identifier rubyid_retVal'>retVal</span> <span class='op'>+=</span> <span class='id identifier rubyid_fill_in_subquestion'>fill_in_subquestion</span><span class='lparen'>(</span><span class='id identifier rubyid_question_choices'>question_choices</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_subquestion'>subquestion</span><span class='comma'>,</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_subq_field_name'>subq_field_name</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>radio</span><span class='tstring_end'>'</span></span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>disabled</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
				<span class='kw'>end</span>
				<span class='id identifier rubyid_retVal'>retVal</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>&lt;/span&gt;</span><span class='tstring_end'>'</span></span>
			<span class='kw'>end</span>
			<span class='id identifier rubyid_retVal'>retVal</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&lt;br/&gt;</span><span class='tstring_end'>&quot;</span></span>
			<span class='id identifier rubyid_i'>i</span><span class='op'>+=</span><span class='int'>1</span>
		<span class='kw'>end</span>
		
<span class='comment'># SELECT INPUTS
</span><span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>select</span><span class='tstring_end'>&quot;</span></span>
		<span class='id identifier rubyid_retVal'>retVal</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>&lt;select class=&quot;question_select_input editable_field&quot; title=&quot;option&quot; arm_id=&quot;</span><span class='tstring_end'>'</span></span> <span class='op'>+</span> <span class='id identifier rubyid_arm_id'>arm_id</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>&quot; obj_id=&quot;</span><span class='tstring_end'>'</span></span><span class='op'>+</span><span class='id identifier rubyid_obj_id'>obj_id</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='op'>+</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>&quot; name=&quot;</span><span class='tstring_end'>'</span></span><span class='op'>+</span><span class='id identifier rubyid_model_name'>model_name</span><span class='op'>+</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>[</span><span class='tstring_end'>'</span></span><span class='op'>+</span><span class='id identifier rubyid_obj_id'>obj_id</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='op'>+</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>_</span><span class='tstring_end'>'</span></span><span class='op'>+</span><span class='id identifier rubyid_arm_id'>arm_id</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='op'>+</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>]&quot; id=&quot;</span><span class='tstring_end'>'</span></span><span class='op'>+</span><span class='id identifier rubyid_model_name'>model_name</span><span class='op'>+</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>_</span><span class='tstring_end'>'</span></span><span class='op'>+</span><span class='id identifier rubyid_obj_id'>obj_id</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='op'>+</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>_</span><span class='tstring_end'>'</span></span><span class='op'>+</span><span class='id identifier rubyid_arm_id'>arm_id</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='op'>+</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>&quot;&gt;</span><span class='tstring_end'>'</span></span>
		<span class='comment'># NO LONGER USING THE AUTO-OTHER FIELD GENERATOR
</span>		<span class='comment'>#retVal += attach_listener_for_other(model_name+&quot;_&quot;+obj_id.to_s+'_'+arm_id.to_s)
</span>		
		<span class='comment'>#some variables for showing the other fields
</span>		<span class='comment'># NO LONGER USING THE 'OTHER' FIELD SINCE USERS CAN ADD IT ON THEIR OWN
</span>		<span class='comment'>#options &lt;&lt; 'Other'
</span>		<span class='id identifier rubyid_text_input'>text_input</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>
		<span class='id identifier rubyid_found_it'>found_it</span> <span class='op'>=</span> <span class='kw'>false</span>
		<span class='id identifier rubyid_found_at_index'>found_at_index</span> <span class='op'>=</span> <span class='op'>-</span><span class='int'>1</span>
		<span class='id identifier rubyid_i'>i</span><span class='op'>=</span><span class='int'>0</span>
		<span class='id identifier rubyid_retVal'>retVal</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&lt;option value='' &gt;-- Make Your Selection --&lt;/option&gt;</span><span class='tstring_end'>&quot;</span></span>
		<span class='id identifier rubyid_options'>options</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_option'>option</span><span class='op'>|</span>
			<span class='id identifier rubyid_selected'>selected</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>
			<span class='kw'>if</span> <span class='id identifier rubyid_chosen_values'>chosen_values</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_option'>option</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='rparen'>)</span>
				<span class='id identifier rubyid_selected'>selected</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>SELECTED</span><span class='tstring_end'>&quot;</span></span>
				<span class='id identifier rubyid_found_it'>found_it</span> <span class='op'>=</span> <span class='kw'>true</span>
				<span class='id identifier rubyid_found_at_index'>found_at_index</span> <span class='op'>=</span> <span class='id identifier rubyid_i'>i</span>
			<span class='comment'># NO LONGE USING THE AUTO-OTHER FIELD
</span>			<span class='comment'>#elsif chosen_values.length &gt; 0 &amp;&amp; !found_it &amp;&amp; option.to_s == &quot;Other&quot;
</span>			<span class='comment'>#	selected = &quot;SELECTED&quot;
</span>			<span class='comment'>#	text_input = get_other_input_element_by_arm(chosen_values[0], obj_id.to_s, arm_id.to_s, model_name)
</span>		<span class='kw'>end</span>
		<span class='id identifier rubyid_continued'>continued</span><span class='op'>=</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>
		<span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_question_choices'>question_choices</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> 
			<span class='kw'>if</span> <span class='id identifier rubyid_question_choices'>question_choices</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_has_subquestion'>has_subquestion</span>
				<span class='id identifier rubyid_continued'>continued</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>...</span><span class='tstring_end'>&quot;</span></span>
			<span class='kw'>end</span>
		<span class='kw'>end</span>
			<span class='id identifier rubyid_retVal'>retVal</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>&lt;option value=&quot;</span><span class='tstring_end'>'</span></span> <span class='op'>+</span> <span class='id identifier rubyid_option'>option</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>&quot; </span><span class='tstring_end'>'</span></span> <span class='op'>+</span> <span class='id identifier rubyid_selected'>selected</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&gt;</span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span> <span class='id identifier rubyid_option'>option</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='op'>+</span> <span class='id identifier rubyid_continued'>continued</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&lt;/option&gt;</span><span class='tstring_end'>&quot;</span></span>
			<span class='id identifier rubyid_i'>i</span><span class='op'>+=</span><span class='int'>1</span>
		<span class='kw'>end</span>
		<span class='id identifier rubyid_retVal'>retVal</span> <span class='op'>+=</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&lt;/select&gt;&amp;nbsp;&lt;span id='select_</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_obj_id'>obj_id</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='rbrace'>}</span><span class='tstring_content'>_</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_arm_id'>arm_id</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='rbrace'>}</span><span class='tstring_content'>_sq_span'&gt;</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>if</span> <span class='id identifier rubyid_found_it'>found_it</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_found_at_index'>found_at_index</span> <span class='op'>&gt;</span> <span class='op'>-</span><span class='int'>1</span>
  	<span class='kw'>if</span> <span class='id identifier rubyid_question_choices'>question_choices</span><span class='lbracket'>[</span><span class='id identifier rubyid_found_at_index'>found_at_index</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_has_subquestion'>has_subquestion</span>
  		<span class='id identifier rubyid_subq_val'>subq_val</span> <span class='op'>=</span> <span class='id identifier rubyid_chosen_subqs'>chosen_subqs</span><span class='lbracket'>[</span><span class='id identifier rubyid_chosen_values'>chosen_values</span><span class='period'>.</span><span class='id identifier rubyid_index'>index</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='id identifier rubyid_found_at_index'>found_at_index</span><span class='rbracket'>]</span><span class='rparen'>)</span><span class='rbracket'>]</span>
		  <span class='id identifier rubyid_retVal'>retVal</span> <span class='op'>+=</span> <span class='id identifier rubyid_fill_in_subquestion'>fill_in_subquestion</span><span class='lparen'>(</span><span class='id identifier rubyid_question_choices'>question_choices</span><span class='lbracket'>[</span><span class='id identifier rubyid_found_at_index'>found_at_index</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_subquestion'>subquestion</span><span class='comma'>,</span> <span class='id identifier rubyid_subq_val'>subq_val</span><span class='comma'>,</span> <span class='id identifier rubyid_subq_field_name'>subq_field_name</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>select</span><span class='tstring_end'>'</span></span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>false</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>
  	<span class='kw'>end</span>
  <span class='comment'>## TOOK THIS OUT WHEN ADDING IN THE 'MAKE YOUR SELECTION' OPTION
</span>  <span class='comment'>#elsif	question_choices[0].has_subquestion
</span>  <span class='comment'>#	retVal += fill_in_subquestion(question_choices[0].subquestion,&quot;&quot;,subq_field_name,&quot;select&quot;,&quot;disabled&quot;)
</span>  <span class='kw'>end</span>
		  	
		<span class='id identifier rubyid_retVal'>retVal</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&lt;/span&gt;</span><span class='tstring_end'>&quot;</span></span>
	  <span class='id identifier rubyid_retVal'>retVal</span> <span class='op'>+=</span> <span class='id identifier rubyid_text_input'>text_input</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span>
	  
 <span class='comment'># CHECK BOX INPUTS	
</span><span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>checkbox</span><span class='tstring_end'>&quot;</span></span>
	<span class='id identifier rubyid_i'>i</span><span class='op'>=</span><span class='int'>0</span>
	<span class='id identifier rubyid_options'>options</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_option'>option</span><span class='op'>|</span>
		<span class='id identifier rubyid_checked'>checked</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>
			<span class='kw'>if</span> <span class='id identifier rubyid_chosen_values'>chosen_values</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_option'>option</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='rparen'>)</span>
				<span class='id identifier rubyid_checked'>checked</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>checked</span><span class='tstring_end'>&quot;</span></span>
			<span class='kw'>end</span>
			<span class='id identifier rubyid_retVal'>retVal</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>&lt;input class=&quot;question_checkbox_input editable_field&quot; title=&quot;option&quot; type=&quot;checkbox&quot; </span><span class='tstring_end'>'</span></span> <span class='op'>+</span> <span class='id identifier rubyid_checked'>checked</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'> obj_id=&quot;</span><span class='tstring_end'>'</span></span><span class='op'>+</span><span class='id identifier rubyid_obj_id'>obj_id</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='op'>+</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>&quot; option_id=&quot;</span><span class='tstring_end'>'</span></span> <span class='op'>+</span> <span class='id identifier rubyid_question_choices'>question_choices</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>&quot; name=&quot;</span><span class='tstring_end'>'</span></span><span class='op'>+</span><span class='id identifier rubyid_model_name'>model_name</span><span class='op'>+</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>[</span><span class='tstring_end'>'</span></span><span class='op'>+</span><span class='id identifier rubyid_obj_id'>obj_id</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='op'>+</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>_</span><span class='tstring_end'>'</span></span><span class='op'>+</span><span class='id identifier rubyid_arm_id'>arm_id</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='op'>+</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>][]&quot; arm_id=&quot;</span><span class='tstring_end'>'</span></span><span class='op'>+</span><span class='id identifier rubyid_arm_id'>arm_id</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='op'>+</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>&quot; id=&quot;</span><span class='tstring_end'>'</span></span><span class='op'>+</span><span class='id identifier rubyid_model_name'>model_name</span><span class='op'>+</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>_</span><span class='tstring_end'>'</span></span><span class='op'>+</span><span class='id identifier rubyid_obj_id'>obj_id</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='op'>+</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>&quot; value=&quot;</span><span class='tstring_end'>'</span></span> <span class='op'>+</span> <span class='id identifier rubyid_option'>option</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>&quot;&gt; </span><span class='tstring_end'>'</span></span> <span class='op'>+</span> <span class='id identifier rubyid_option'>option</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span>
			
			<span class='kw'>if</span> <span class='id identifier rubyid_question_choices'>question_choices</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_has_subquestion'>has_subquestion</span>
				<span class='id identifier rubyid_retVal'>retVal</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>... &lt;span class=&quot;checkbox_group_</span><span class='tstring_end'>'</span></span><span class='op'>+</span><span class='id identifier rubyid_obj_id'>obj_id</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='op'>+</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>_</span><span class='tstring_end'>'</span></span><span class='op'>+</span><span class='id identifier rubyid_arm_id'>arm_id</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='op'>+</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>&quot; id=&quot;option_</span><span class='tstring_end'>'</span></span> <span class='op'>+</span> <span class='id identifier rubyid_question_choices'>question_choices</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>_</span><span class='tstring_end'>'</span></span> <span class='op'>+</span> <span class='id identifier rubyid_arm_id'>arm_id</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>_sq_span&quot;&gt;</span><span class='tstring_end'>'</span></span>
				<span class='id identifier rubyid_field_name'>field_name</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_model_name'>model_name</span><span class='rbrace'>}</span><span class='tstring_content'>_sub[</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_obj_id'>obj_id</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='rbrace'>}</span><span class='tstring_content'>_</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_arm_id'>arm_id</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='rbrace'>}</span><span class='tstring_content'>][</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_question_choices'>question_choices</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='rbrace'>}</span><span class='tstring_content'>]</span><span class='tstring_end'>&quot;</span></span>
				<span class='kw'>if</span> <span class='id identifier rubyid_checked'>checked</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>checked</span><span class='tstring_end'>&quot;</span></span>
					<span class='id identifier rubyid_subq_val'>subq_val</span> <span class='op'>=</span> <span class='id identifier rubyid_chosen_subqs'>chosen_subqs</span><span class='lbracket'>[</span><span class='id identifier rubyid_chosen_values'>chosen_values</span><span class='period'>.</span><span class='id identifier rubyid_index'>index</span><span class='lparen'>(</span><span class='id identifier rubyid_option'>option</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='rparen'>)</span><span class='rbracket'>]</span>
					<span class='id identifier rubyid_retVal'>retVal</span> <span class='op'>+=</span> <span class='id identifier rubyid_fill_in_subquestion'>fill_in_subquestion</span><span class='lparen'>(</span><span class='id identifier rubyid_question_choices'>question_choices</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_subquestion'>subquestion</span><span class='comma'>,</span> <span class='id identifier rubyid_subq_val'>subq_val</span><span class='comma'>,</span> <span class='id identifier rubyid_field_name'>field_name</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>checkbox</span><span class='tstring_end'>'</span></span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>false</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>
				<span class='kw'>else</span> 
					<span class='id identifier rubyid_retVal'>retVal</span> <span class='op'>+=</span> <span class='id identifier rubyid_fill_in_subquestion'>fill_in_subquestion</span><span class='lparen'>(</span><span class='id identifier rubyid_question_choices'>question_choices</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_subquestion'>subquestion</span><span class='comma'>,</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_field_name'>field_name</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>checkbox</span><span class='tstring_end'>'</span></span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>disabled</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
				<span class='kw'>end</span>
				<span class='id identifier rubyid_retVal'>retVal</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>&lt;/span&gt;</span><span class='tstring_end'>'</span></span>
			<span class='kw'>end</span>
			<span class='id identifier rubyid_retVal'>retVal</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&lt;br/&gt;</span><span class='tstring_end'>&quot;</span></span>
			<span class='id identifier rubyid_i'>i</span><span class='op'>+=</span><span class='int'>1</span>	
		<span class='kw'>end</span>
		
	<span class='kw'>else</span>
		<span class='id identifier rubyid_value'>value</span><span class='op'>=</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>
		
		<span class='kw'>unless</span> <span class='id identifier rubyid_chosen_values'>chosen_values</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
			<span class='id identifier rubyid_value'>value</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_chosen_values'>chosen_values</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span>
		<span class='kw'>end</span>
		<span class='id identifier rubyid_retVal'>retVal</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&lt;textarea cols='75' rows='1' class='editable_field' name='</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_model_name'>model_name</span><span class='rbrace'>}</span><span class='tstring_content'>[</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_obj_id'>obj_id</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='rbrace'>}</span><span class='tstring_content'>_</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_arm_id'>arm_id</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='rbrace'>}</span><span class='tstring_content'>]' id='</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_model_name'>model_name</span><span class='rbrace'>}</span><span class='tstring_content'>_</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_obj_id'>obj_id</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='rbrace'>}</span><span class='tstring_content'>_</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_arm_id'>arm_id</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='rbrace'>}</span><span class='tstring_content'>' value='</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_value'>value</span><span class='rbrace'>}</span><span class='tstring_content'>'&gt;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_value'>value</span><span class='rbrace'>}</span><span class='tstring_content'>&lt;/textarea&gt;&lt;br/&gt;</span><span class='tstring_end'>&quot;</span></span>
	<span class='kw'>end</span>
	<span class='kw'>return</span> <span class='id identifier rubyid_retVal'>retVal</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="fill_in_subquestion-instance_method">
  
    - (<tt>string</tt>) <strong>fill_in_subquestion</strong>(subq_text, subq_val, subq_field_name, input_type, status) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
when data has already been saved to an input, we determine whether or not
there was an associated subquestion and whether or not it has associated
data. This function creates the completed subquestion title and input
field.
</p>


  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='name'>subq_text</span>
      
      
        <span class='type'>(<tt>string</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><h1>the subquestion itself</h1>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>subq_val</span>
      
      
        <span class='type'>(<tt>string</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><h1>any subquestion value that has been entered</h1>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>subq_field_name</span>
      
      
        <span class='type'>(<tt>string</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><h1>the name of the subquestion field</h1>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>input_type</span>
      
      
        <span class='type'>(<tt>string</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><h1>radio, checkbox, etc.</h1>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>status</span>
      
      
        <span class='type'>(<tt>string</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><h1>is it enabled or disabled</h1>
</div>
      
    </li>
  
</ul>

<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>string</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


412
413
414
415
416
417
418</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/helpers/application_helper.rb', line 412</span>

<span class='kw'>def</span> <span class='id identifier rubyid_fill_in_subquestion'>fill_in_subquestion</span><span class='lparen'>(</span><span class='id identifier rubyid_subq_text'>subq_text</span><span class='comma'>,</span> <span class='id identifier rubyid_subq_val'>subq_val</span><span class='comma'>,</span> <span class='id identifier rubyid_subq_field_name'>subq_field_name</span><span class='comma'>,</span> <span class='id identifier rubyid_input_type'>input_type</span><span class='comma'>,</span> <span class='id identifier rubyid_status'>status</span><span class='rparen'>)</span>
	<span class='id identifier rubyid_retVal'>retVal</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>
	<span class='id identifier rubyid_subq_text'>subq_text</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> </span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_subq_text'>subq_text</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
	<span class='id identifier rubyid_subq_val'>subq_val</span> <span class='op'>=</span> <span class='id identifier rubyid_subq_val'>subq_val</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>value='</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_subq_val'>subq_val</span><span class='rbrace'>}</span><span class='tstring_content'>'</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_disabled'>disabled</span> <span class='op'>=</span> <span class='id identifier rubyid_status'>status</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>disabled</span><span class='tstring_end'>&quot;</span></span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>disabled = 'disabled' class='disabled_text'</span><span class='tstring_end'>&quot;</span></span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_retVal'>retVal</span> <span class='op'>+=</span> <span class='id identifier rubyid_subq_text'>subq_text</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> &lt;input class='editable_field' name='</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_subq_field_name'>subq_field_name</span><span class='rbrace'>}</span><span class='tstring_content'>' </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_subq_val'>subq_val</span><span class='rbrace'>}</span><span class='tstring_content'> </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_disabled'>disabled</span><span class='rbrace'>}</span><span class='tstring_content'> /&gt;&lt;/span&gt;</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="get_bread_crumbs-instance_method">
  
    - (<tt>string</tt>) <strong>get_bread_crumbs</strong>(url, sep) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
used at the top of every page (in one of the header partials) displays
bread crumbs based on the user&#8217;s current URL
</p>


  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='name'>url</span>
      
      
        <span class='type'>(<tt>string</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>
the url to get breadcrumbs for
</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>sep</span>
      
      
        <span class='type'>(<tt>string</tt>)</span>
      
      
      
    </li>
  
</ul>

<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>string</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>
breadcrumbs html
</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/helpers/application_helper.rb', line 55</span>

<span class='kw'>def</span> <span class='id identifier rubyid_get_bread_crumbs'>get_bread_crumbs</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span><span class='id identifier rubyid_sep'>sep</span><span class='rparen'>)</span>
<span class='kw'>begin</span>
	<span class='id identifier rubyid_retVal'>retVal</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>
	<span class='id identifier rubyid_url'>url</span><span class='period'>.</span><span class='id identifier rubyid_gsub!'>gsub!</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\?.*$</span><span class='regexp_end'>/</span></span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
	<span class='kw'>unless</span> <span class='id identifier rubyid_url'>url</span><span class='period'>.</span><span class='id identifier rubyid_split'>split</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\/</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span> <span class='op'>&lt;=</span> <span class='int'>3</span>
		<span class='id identifier rubyid_elements'>elements</span> <span class='op'>=</span> <span class='id identifier rubyid_url'>url</span><span class='period'>.</span><span class='id identifier rubyid_split'>split</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>/</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>
		<span class='id identifier rubyid_project_id'>project_id</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>
		<span class='id identifier rubyid_project_title'>project_title</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>
		<span class='id identifier rubyid_study_id'>study_id</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>
		<span class='id identifier rubyid_study_title'>study_title</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>
		<span class='id identifier rubyid_no_match'>no_match</span> <span class='op'>=</span> <span class='kw'>false</span>
		<span class='id identifier rubyid_is_end_of_trail'>is_end_of_trail</span> <span class='op'>=</span> <span class='kw'>false</span>
	 
		<span class='comment'># the string to return 
</span>		<span class='id identifier rubyid_retVal'>retVal</span> <span class='op'>=</span> <span class='id identifier rubyid_image_tag'>image_tag</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Computer-silk.png</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbol'>:style</span><span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>border: 0px; vertical-align: top</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbol'>:alt</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>computer</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> </span><span class='tstring_end'>&quot;</span></span>
		<span class='id identifier rubyid_retVal'>retVal</span> <span class='op'>=</span> <span class='id identifier rubyid_retVal'>retVal</span> <span class='op'>+</span> <span class='id identifier rubyid_link_to'>link_to</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>My Work</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> </span><span class='tstring_end'>&quot;</span></span>
	
		<span class='comment'># remove the http://www.srdr.com bit from the array
</span>		<span class='id identifier rubyid_elements'>elements</span> <span class='op'>=</span> <span class='id identifier rubyid_elements'>elements</span><span class='lbracket'>[</span><span class='int'>3</span><span class='op'>..</span><span class='id identifier rubyid_elements'>elements</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span><span class='op'>-</span><span class='int'>1</span><span class='rbracket'>]</span>
	
		<span class='id identifier rubyid_i'>i</span> <span class='op'>=</span> <span class='int'>0</span>
		<span class='id identifier rubyid_elements'>elements</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_element'>element</span><span class='op'>|</span>
			<span class='kw'>if</span> <span class='id identifier rubyid_i'>i</span> <span class='op'>==</span> <span class='id identifier rubyid_elements'>elements</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span> <span class='op'>-</span> <span class='int'>1</span>
				<span class='id identifier rubyid_is_end_of_trail'>is_end_of_trail</span> <span class='op'>=</span> <span class='kw'>true</span>
			<span class='kw'>end</span>
			
			<span class='id identifier rubyid_retVal'>retVal</span> <span class='op'>=</span> <span class='id identifier rubyid_retVal'>retVal</span> <span class='op'>+</span> <span class='id identifier rubyid_image_tag'>image_tag</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Silk_arrow_right_gray.png</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbol'>:style</span><span class='op'>=&gt;</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>border: 0px; vertical-align:top;</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbol'>:alt</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>arrow</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> </span><span class='tstring_end'>&quot;</span></span>
		  <span class='kw'>case</span> <span class='id identifier rubyid_element'>element</span>
  		  <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>extraction_forms</span><span class='tstring_end'>&quot;</span></span>
  		  	<span class='kw'>if</span> <span class='id identifier rubyid_project_id'>project_id</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
  		  		<span class='id identifier rubyid_efid'>efid</span> <span class='op'>=</span> <span class='id identifier rubyid_elements'>elements</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='op'>+</span><span class='int'>1</span><span class='rbracket'>]</span>
  		  		<span class='id identifier rubyid_ef'>ef</span> <span class='op'>=</span> <span class='const'>ExtractionForm</span><span class='period'>.</span><span class='id identifier rubyid_find'>find</span><span class='lparen'>(</span><span class='id identifier rubyid_efid'>efid</span><span class='comma'>,</span><span class='symbol'>:select</span><span class='op'>=&gt;</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>project_id</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='rparen'>)</span>
  		  		<span class='kw'>unless</span> <span class='id identifier rubyid_ef'>ef</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
  		  			<span class='id identifier rubyid_project_id'>project_id</span> <span class='op'>=</span> <span class='id identifier rubyid_ef'>ef</span><span class='period'>.</span><span class='id identifier rubyid_project_id'>project_id</span>
  		  		<span class='kw'>end</span>
  		  		<span class='id identifier rubyid_session'>session</span><span class='lbracket'>[</span><span class='symbol'>:project_id</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_project_id'>project_id</span>
					<span class='kw'>end</span>
  		  	<span class='id identifier rubyid_extraction_form_uri'>extraction_form_uri</span><span class='op'>=</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/projects/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_project_id'>project_id</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='rbrace'>}</span><span class='tstring_content'>/extractionforms</span><span class='tstring_end'>&quot;</span></span>
  		  	<span class='id identifier rubyid_retVal'>retVal</span> <span class='op'>=</span> <span class='id identifier rubyid_retVal'>retVal</span> <span class='op'>+</span> <span class='id identifier rubyid_image_tag'>image_tag</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Table-silk.png</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbol'>:style</span><span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>border: 0px; vertical-align: top;</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbol'>:alt</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>table</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> </span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span> <span class='id identifier rubyid_create_crumb_link'>create_crumb_link</span><span class='lparen'>(</span><span class='id identifier rubyid_extraction_form_uri'>extraction_form_uri</span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> Extraction Forms</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span><span class='id identifier rubyid_is_end_of_trail'>is_end_of_trail</span><span class='rparen'>)</span>
				<span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>projects</span><span class='tstring_end'>&quot;</span></span>
			  	<span class='id identifier rubyid_project_uri'>project_uri</span>	<span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/projects/</span><span class='tstring_end'>&quot;</span></span>
					<span class='id identifier rubyid_retVal'>retVal</span> <span class='op'>=</span> <span class='id identifier rubyid_retVal'>retVal</span> <span class='op'>+</span> <span class='id identifier rubyid_image_tag'>image_tag</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>Folder-silk.png</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='symbol'>:style</span><span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>border: 0px; vertical-align: top;</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbol'>:alt</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>folder</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> </span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span> <span class='id identifier rubyid_create_crumb_link'>create_crumb_link</span><span class='lparen'>(</span><span class='id identifier rubyid_project_uri'>project_uri</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>My Projects</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_is_end_of_trail'>is_end_of_trail</span><span class='rparen'>)</span>
				 	<span class='comment'>#print &quot;In the projects block and retVal is now #{retVal}...\n\n&quot;
</span>				 	
				<span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>studies</span><span class='tstring_end'>&quot;</span></span>
					<span class='id identifier rubyid_study_uri'>study_uri</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/projects/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_project_id'>project_id</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='rbrace'>}</span><span class='tstring_content'>/studies</span><span class='tstring_end'>&quot;</span></span>
					<span class='id identifier rubyid_retVal'>retVal</span> <span class='op'>=</span> <span class='id identifier rubyid_retVal'>retVal</span> <span class='op'>+</span> <span class='id identifier rubyid_image_tag'>image_tag</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Book-silk.png</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbol'>:style</span><span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>border: 0px; vertical-align: top;</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbol'>:alt</span><span class='op'>=&gt;</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>book</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>  <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> </span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span> <span class='id identifier rubyid_create_crumb_link'>create_crumb_link</span><span class='lparen'>(</span><span class='id identifier rubyid_study_uri'>study_uri</span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Studies</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_is_end_of_trail'>is_end_of_trail</span><span class='rparen'>)</span>
				
				<span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>home</span><span class='tstring_end'>&quot;</span></span>
					<span class='id identifier rubyid_retVal'>retVal</span><span class='period'>.</span><span class='id identifier rubyid_gsub!'>gsub!</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\&gt;\s$</span><span class='regexp_end'>/</span></span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
				
				<span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>account</span><span class='tstring_end'>&quot;</span></span>
					<span class='id identifier rubyid_retVal'>retVal</span> <span class='op'>=</span> <span class='id identifier rubyid_retVal'>retVal</span> <span class='op'>+</span> <span class='id identifier rubyid_image_tag'>image_tag</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>User.png</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbol'>:style</span><span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>border: 0px; vertical-align: top;</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbol'>:alt</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>user</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>  <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> </span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span> <span class='id identifier rubyid_create_crumb_link'>create_crumb_link</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>/account/</span><span class='tstring_end'>'</span></span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>Account</span><span class='tstring_end'>'</span></span><span class='comma'>,</span><span class='kw'>true</span><span class='rparen'>)</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> </span><span class='tstring_end'>&quot;</span></span>
				
				<span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>search</span><span class='tstring_end'>&quot;</span></span>
					<span class='id identifier rubyid_retVal'>retVal</span> <span class='op'>=</span> <span class='id identifier rubyid_retVal'>retVal</span> <span class='op'>+</span> <span class='id identifier rubyid_image_tag'>image_tag</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Zoom.png</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbol'>:style</span><span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>border: 0px; vertical-align: top;</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbol'>:alt</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>search</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>  <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> </span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span> <span class='id identifier rubyid_create_crumb_link'>create_crumb_link</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>/search/</span><span class='tstring_end'>'</span></span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>Search</span><span class='tstring_end'>'</span></span><span class='comma'>,</span><span class='kw'>true</span><span class='rparen'>)</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> </span><span class='tstring_end'>&quot;</span></span>
					<span class='id identifier rubyid_retVal'>retVal</span><span class='period'>.</span><span class='id identifier rubyid_gsub!'>gsub!</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\&gt;$</span><span class='regexp_end'>/</span></span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
										
				<span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>demo1</span><span class='tstring_end'>&quot;</span></span>
					<span class='id identifier rubyid_retVal'>retVal</span> <span class='op'>=</span> <span class='id identifier rubyid_retVal'>retVal</span> <span class='op'>+</span> <span class='id identifier rubyid_image_tag'>image_tag</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>film.png</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbol'>:style</span><span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>border: 0px; vertical-align: top;</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>  <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> </span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span> <span class='id identifier rubyid_create_crumb_link'>create_crumb_link</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>/home/demo1/</span><span class='tstring_end'>'</span></span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>Demo 1: Viewing and Creating Projects</span><span class='tstring_end'>'</span></span><span class='comma'>,</span><span class='kw'>true</span><span class='rparen'>)</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> </span><span class='tstring_end'>&quot;</span></span>
					<span class='id identifier rubyid_retVal'>retVal</span><span class='period'>.</span><span class='id identifier rubyid_gsub!'>gsub!</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\&gt;$</span><span class='regexp_end'>/</span></span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
				
				<span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>demo2</span><span class='tstring_end'>&quot;</span></span>
					<span class='id identifier rubyid_retVal'>retVal</span> <span class='op'>=</span> <span class='id identifier rubyid_retVal'>retVal</span> <span class='op'>+</span> <span class='id identifier rubyid_image_tag'>image_tag</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>film.png</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbol'>:style</span><span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>border: 0px; vertical-align: top;</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>  <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> </span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span> <span class='id identifier rubyid_create_crumb_link'>create_crumb_link</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>/home/demo2/</span><span class='tstring_end'>'</span></span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>Demo 2: Creating and Editing Extraction Form Templates</span><span class='tstring_end'>'</span></span><span class='comma'>,</span><span class='kw'>true</span><span class='rparen'>)</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> </span><span class='tstring_end'>&quot;</span></span>
					<span class='id identifier rubyid_retVal'>retVal</span><span class='period'>.</span><span class='id identifier rubyid_gsub!'>gsub!</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\&gt;$</span><span class='regexp_end'>/</span></span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
					
				<span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>demo3</span><span class='tstring_end'>&quot;</span></span>
					<span class='id identifier rubyid_retVal'>retVal</span> <span class='op'>=</span> <span class='id identifier rubyid_retVal'>retVal</span> <span class='op'>+</span> <span class='id identifier rubyid_image_tag'>image_tag</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>film.png</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbol'>:style</span><span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>border: 0px; vertical-align: top;</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>  <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> </span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span> <span class='id identifier rubyid_create_crumb_link'>create_crumb_link</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>/home/demo3/</span><span class='tstring_end'>'</span></span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>Demo 3: Viewing, Editing and Creating Study Records </span><span class='tstring_end'>'</span></span><span class='comma'>,</span><span class='kw'>true</span><span class='rparen'>)</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> </span><span class='tstring_end'>&quot;</span></span>
					<span class='id identifier rubyid_retVal'>retVal</span><span class='period'>.</span><span class='id identifier rubyid_gsub!'>gsub!</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\&gt;$</span><span class='regexp_end'>/</span></span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
					
				<span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^\d+</span><span class='regexp_end'>/</span></span>
					
			  	<span class='id identifier rubyid_previous'>previous</span> <span class='op'>=</span> <span class='id identifier rubyid_elements'>elements</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='op'>-</span><span class='int'>1</span><span class='rbracket'>]</span>
					<span class='kw'>if</span> <span class='id identifier rubyid_previous'>previous</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>projects</span><span class='tstring_end'>&quot;</span></span>
						<span class='id identifier rubyid_project_id'>project_id</span> <span class='op'>=</span> <span class='id identifier rubyid_element'>element</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span>
						<span class='id identifier rubyid_project_title'>project_title</span> <span class='op'>=</span> <span class='const'>Project</span><span class='period'>.</span><span class='id identifier rubyid_find'>find</span><span class='lparen'>(</span><span class='id identifier rubyid_project_id'>project_id</span><span class='comma'>,</span><span class='symbol'>:select</span><span class='op'>=&gt;</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>title</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
						<span class='kw'>unless</span> <span class='id identifier rubyid_project_title'>project_title</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
							<span class='id identifier rubyid_project_title'>project_title</span> <span class='op'>=</span> <span class='id identifier rubyid_project_title'>project_title</span><span class='period'>.</span><span class='id identifier rubyid_title'>title</span>
						<span class='kw'>else</span>
							<span class='id identifier rubyid_project_title'>project_title</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>New Project</span><span class='tstring_end'>&quot;</span></span>
						<span class='kw'>end</span>
						<span class='id identifier rubyid_project_uri'>project_uri</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/projects/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_project_id'>project_id</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='rbrace'>}</span><span class='tstring_content'>/edit</span><span class='tstring_end'>&quot;</span></span>
						<span class='id identifier rubyid_retVal'>retVal</span> <span class='op'>=</span> <span class='id identifier rubyid_retVal'>retVal</span> <span class='op'>+</span> <span class='id identifier rubyid_image_tag'>image_tag</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Folder_edit.png</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbol'>:style</span><span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>border: 0px; vertical-align: top;</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> </span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span> <span class='id identifier rubyid_create_crumb_link'>create_crumb_link</span><span class='lparen'>(</span><span class='id identifier rubyid_project_uri'>project_uri</span><span class='comma'>,</span> <span class='id identifier rubyid_project_title'>project_title</span><span class='comma'>,</span> <span class='id identifier rubyid_is_end_of_trail'>is_end_of_trail</span><span class='rparen'>)</span>
											
					<span class='kw'>elsif</span> <span class='id identifier rubyid_previous'>previous</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>studies</span><span class='tstring_end'>&quot;</span></span>
						<span class='id identifier rubyid_study_id'>study_id</span> <span class='op'>=</span> <span class='id identifier rubyid_element'>element</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span>
						<span class='id identifier rubyid_study_title'>study_title</span> <span class='op'>=</span> <span class='const'>PrimaryPublication</span><span class='period'>.</span><span class='id identifier rubyid_find'>find</span><span class='lparen'>(</span><span class='symbol'>:first</span><span class='comma'>,</span><span class='symbol'>:conditions</span><span class='op'>=&gt;</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>study_id=?</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span><span class='id identifier rubyid_study_id'>study_id</span><span class='rbracket'>]</span><span class='comma'>,</span><span class='symbol'>:select</span><span class='op'>=&gt;</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>title</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
						<span class='kw'>unless</span> <span class='id identifier rubyid_study_title'>study_title</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
							<span class='id identifier rubyid_study_title'>study_title</span> <span class='op'>=</span> <span class='id identifier rubyid_study_title'>study_title</span><span class='period'>.</span><span class='id identifier rubyid_title'>title</span>
						<span class='kw'>else</span>
							<span class='id identifier rubyid_study_title'>study_title</span><span class='op'>=</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>New Study</span><span class='tstring_end'>&quot;</span></span>
						<span class='kw'>end</span>
						<span class='id identifier rubyid_study_uri'>study_uri</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/projects/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_project_id'>project_id</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='rbrace'>}</span><span class='tstring_content'>/studies/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_study_id'>study_id</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span>
						<span class='id identifier rubyid_retVal'>retVal</span> <span class='op'>=</span> <span class='id identifier rubyid_retVal'>retVal</span> <span class='op'>+</span> <span class='id identifier rubyid_image_tag'>image_tag</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Book_edit.png</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbol'>:style</span><span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>border: 0px; vertical-align: top;</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> </span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span> <span class='id identifier rubyid_create_crumb_link'>create_crumb_link</span><span class='lparen'>(</span><span class='id identifier rubyid_study_uri'>study_uri</span><span class='comma'>,</span> <span class='id identifier rubyid_study_title'>study_title</span><span class='comma'>,</span> <span class='id identifier rubyid_is_end_of_trail'>is_end_of_trail</span><span class='rparen'>)</span>	
										
					<span class='kw'>elsif</span> <span class='id identifier rubyid_previous'>previous</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>extraction_forms</span><span class='tstring_end'>&quot;</span></span>
					  <span class='id identifier rubyid_extraction_form_id'>extraction_form_id</span> <span class='op'>=</span> <span class='id identifier rubyid_element'>element</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span>
					  <span class='id identifier rubyid_extraction_form_title'>extraction_form_title</span> <span class='op'>=</span> <span class='const'>ExtractionForm</span><span class='period'>.</span><span class='id identifier rubyid_find'>find</span><span class='lparen'>(</span><span class='id identifier rubyid_extraction_form_id'>extraction_form_id</span><span class='rparen'>)</span>
					  <span class='kw'>unless</span> <span class='id identifier rubyid_extraction_form_title'>extraction_form_title</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
					 	  <span class='id identifier rubyid_extraction_form_title'>extraction_form_title</span> <span class='op'>=</span> <span class='id identifier rubyid_extraction_form_title'>extraction_form_title</span><span class='period'>.</span><span class='id identifier rubyid_title'>title</span>
					  <span class='kw'>else</span>
					    <span class='id identifier rubyid_extraction_form_title'>extraction_form_title</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Untitled</span><span class='tstring_end'>&quot;</span></span>
					  <span class='kw'>end</span>
					  <span class='id identifier rubyid_extraction_form_uri'>extraction_form_uri</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/projects/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_project_id'>project_id</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='rbrace'>}</span><span class='tstring_content'>/extraction_forms/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_extraction_form_id'>extraction_form_id</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='rbrace'>}</span><span class='tstring_content'>/edit</span><span class='tstring_end'>&quot;</span></span>
				 	  <span class='id identifier rubyid_retVal'>retVal</span> <span class='op'>=</span> <span class='id identifier rubyid_retVal'>retVal</span> <span class='op'>+</span> <span class='id identifier rubyid_image_tag'>image_tag</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Table_edit.png</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbol'>:style</span><span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>border: 0px; vertical-align: top;</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> </span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span> <span class='id identifier rubyid_create_crumb_link'>create_crumb_link</span><span class='lparen'>(</span><span class='id identifier rubyid_extraction_form_uri'>extraction_form_uri</span><span class='comma'>,</span><span class='id identifier rubyid_extraction_form_title'>extraction_form_title</span><span class='comma'>,</span><span class='id identifier rubyid_is_end_of_trail'>is_end_of_trail</span><span class='rparen'>)</span>
					<span class='kw'>else</span>
						 <span class='comment'># fill this in for other types of urls
</span>					<span class='kw'>end</span>  
				<span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^\w+</span><span class='regexp_end'>/</span></span>
					<span class='id identifier rubyid_text'>text</span> <span class='op'>=</span> <span class='kw'>case</span> <span class='id identifier rubyid_element'>element</span>
						<span class='comment'># these should be consistent now
</span>						<span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>extractionforms</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>then</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Manage Extraction Forms</span><span class='tstring_end'>&quot;</span></span>
						<span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>questions</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>then</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Key Questions</span><span class='tstring_end'>&quot;</span></span>
						<span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>publications</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>then</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Publications</span><span class='tstring_end'>&quot;</span></span>
						<span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>arms</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>then</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Arms</span><span class='tstring_end'>&quot;</span></span>
						<span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>design</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>then</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Design Details</span><span class='tstring_end'>&quot;</span></span>
						<span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>baselines</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>then</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Baseline Characteristics</span><span class='tstring_end'>&quot;</span></span>
						<span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>outcomes</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>then</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Outcomes</span><span class='tstring_end'>&quot;</span></span>
						<span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>results</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>then</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Outcome Data</span><span class='tstring_end'>&quot;</span></span>
						<span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>adverse</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>then</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Adverse Events</span><span class='tstring_end'>&quot;</span></span>
						<span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>quality</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>then</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Study Quality</span><span class='tstring_end'>&quot;</span></span>
						<span class='kw'>else</span> <span class='id identifier rubyid_element'>element</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='period'>.</span><span class='id identifier rubyid_capitalize'>capitalize</span>
					<span class='kw'>end</span>
					
					<span class='id identifier rubyid_edits_arr'>edits_arr</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Key Questions</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Publications</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Study Arms</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Study Design</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Baseline Characteristics</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Outcomes</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Results Entry</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Adverse Events</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Study Quality</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
					
					<span class='comment'>#print &quot;Found #{element.to_s}\n\n&quot;
</span>					<span class='kw'>if</span> <span class='id identifier rubyid_text'>text</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Edit</span><span class='tstring_end'>&quot;</span></span>
						<span class='id identifier rubyid_retVal'>retVal</span> <span class='op'>=</span> <span class='id identifier rubyid_retVal'>retVal</span> <span class='op'>+</span> <span class='id identifier rubyid_image_tag'>image_tag</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Pencil.png</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbol'>:style</span><span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>border: 0px; vertical-align: top</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> </span><span class='tstring_end'>&quot;</span></span>
					<span class='kw'>elsif</span> <span class='id identifier rubyid_edits_arr'>edits_arr</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_text'>text</span><span class='rparen'>)</span>
						<span class='id identifier rubyid_retVal'>retVal</span> <span class='op'>=</span> <span class='id identifier rubyid_retVal'>retVal</span> <span class='op'>+</span> <span class='id identifier rubyid_image_tag'>image_tag</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Pencil.png</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbol'>:style</span><span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>border: 0px; vertical-align: top</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> </span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span> <span class='id identifier rubyid_create_crumb_link'>create_crumb_link</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span><span class='id identifier rubyid_text'>text</span><span class='comma'>,</span><span class='id identifier rubyid_is_end_of_trail'>is_end_of_trail</span><span class='rparen'>)</span>
					<span class='kw'>else</span>
						<span class='id identifier rubyid_retVal'>retVal</span> <span class='op'>=</span> <span class='id identifier rubyid_retVal'>retVal</span> <span class='op'>+</span> <span class='id identifier rubyid_create_crumb_link'>create_crumb_link</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span><span class='id identifier rubyid_text'>text</span><span class='comma'>,</span><span class='id identifier rubyid_is_end_of_trail'>is_end_of_trail</span><span class='rparen'>)</span>
					<span class='kw'>end</span>
					<span class='id identifier rubyid_retVal'>retVal</span><span class='period'>.</span><span class='id identifier rubyid_gsub!'>gsub!</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\&gt;\s$</span><span class='regexp_end'>/</span></span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
				<span class='kw'>else</span>	
					<span class='comment'># get rid of the trailing characters
</span>					<span class='comment'># is doing two chops more efficient?
</span>					<span class='id identifier rubyid_retVal'>retVal</span><span class='period'>.</span><span class='id identifier rubyid_gsub!'>gsub!</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\&gt;\s$</span><span class='regexp_end'>/</span></span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
					<span class='id identifier rubyid_no_match'>no_match</span> <span class='op'>=</span> <span class='kw'>true</span>
			<span class='kw'>end</span>
			<span class='id identifier rubyid_retVal'>retVal</span> <span class='op'>=</span> <span class='id identifier rubyid_retVal'>retVal</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> </span><span class='tstring_end'>&quot;</span></span>
			<span class='id identifier rubyid_i'>i</span> <span class='op'>=</span> <span class='id identifier rubyid_i'>i</span><span class='op'>+</span><span class='int'>1</span>
		<span class='kw'>end</span>
   <span class='kw'>end</span> <span class='comment'>#ending the unless statement at the top
</span>	<span class='kw'>return</span>  <span class='id identifier rubyid_retVal'>retVal</span>
	
	<span class='kw'>rescue</span>
 		<span class='kw'>return</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Error in breadcrumbs: </span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span> <span class='id identifier rubyid_elements'>elements</span><span class='lbracket'>[</span><span class='id identifier rubyid_elements'>elements</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span><span class='op'>-</span><span class='int'>1</span><span class='rbracket'>]</span>
 	<span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="get_camel_caps-instance_method">
  
    - (<tt>string</tt>) <strong>get_camel_caps</strong>(input) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
a camelcaps function to accept the model as input and return a
representation that can be called with eval to hit the database table.
example: design_detail would give DesignDetail
</p>


  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='name'>input</span>
      
      
        <span class='type'>(<tt>string</tt>)</span>
      
      
      
    </li>
  
</ul>

<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>string</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


628
629
630
631
632
633
634
635</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/helpers/application_helper.rb', line 628</span>

<span class='kw'>def</span> <span class='id identifier rubyid_get_camel_caps'>get_camel_caps</span> <span class='id identifier rubyid_input'>input</span>
<span class='id identifier rubyid_tmp'>tmp</span> <span class='op'>=</span> <span class='id identifier rubyid_input'>input</span><span class='period'>.</span><span class='id identifier rubyid_split'>split</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>_</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='id identifier rubyid_tmp'>tmp</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span>
	<span class='id identifier rubyid_x'>x</span><span class='period'>.</span><span class='id identifier rubyid_downcase!'>downcase!</span>
	<span class='id identifier rubyid_x'>x</span><span class='period'>.</span><span class='id identifier rubyid_capitalize!'>capitalize!</span>
<span class='kw'>end</span>
<span class='kw'>return</span> <span class='id identifier rubyid_tmp'>tmp</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="get_other_input_element-instance_method">
  
    - (<tt>string</tt>) <strong>get_other_input_element</strong>(value, id, model) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
if other is selected, create a text input. populate it with the value and
name it  accordingly
</p>


  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='name'>value</span>
      
      
        <span class='type'>(<tt>string</tt>)</span>
      
      
      
    </li>
  
    <li>
      
        <span class='name'>id</span>
      
      
        <span class='type'>(<tt>integer</tt>)</span>
      
      
      
    </li>
  
    <li>
      
        <span class='name'>model</span>
      
      
        <span class='type'>(<tt>string</tt>)</span>
      
      
      
    </li>
  
</ul>

<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>string</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


615
616
617
618
619
620
621</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/helpers/application_helper.rb', line 615</span>

<span class='kw'>def</span> <span class='id identifier rubyid_get_other_input_element'>get_other_input_element</span><span class='lparen'>(</span><span class='id identifier rubyid_value'>value</span><span class='comma'>,</span> <span class='id identifier rubyid_id'>id</span><span class='comma'>,</span> <span class='id identifier rubyid_model'>model</span><span class='rparen'>)</span>
	<span class='id identifier rubyid_element_name'>element_name</span> <span class='op'>=</span> <span class='id identifier rubyid_model'>model</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>[</span><span class='tstring_end'>'</span></span> <span class='op'>+</span> <span class='id identifier rubyid_id'>id</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>]</span><span class='tstring_end'>'</span></span>
	<span class='id identifier rubyid_element_id'>element_id</span> <span class='op'>=</span> <span class='id identifier rubyid_model'>model</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>_</span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span> <span class='id identifier rubyid_id'>id</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>_input</span><span class='tstring_end'>&quot;</span></span>
	<span class='id identifier rubyid_span_id'>span_id</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>other_</span><span class='tstring_end'>'</span></span><span class='op'>+</span><span class='id identifier rubyid_model'>model</span><span class='op'>+</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>_</span><span class='tstring_end'>'</span></span> <span class='op'>+</span> <span class='id identifier rubyid_id'>id</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span>
	<span class='id identifier rubyid_input_string'>input_string</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>&lt;br/&gt;&lt;span id=&quot;</span><span class='tstring_end'>'</span></span><span class='op'>+</span><span class='id identifier rubyid_span_id'>span_id</span><span class='op'>+</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>&quot;&gt;Please Specify:&lt;input class=&quot;editable_field&quot; title=&quot;option&quot; type=&quot;text&quot; name=&quot;</span><span class='tstring_end'>'</span></span><span class='op'>+</span><span class='id identifier rubyid_element_name'>element_name</span><span class='op'>+</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>&quot; id=&quot;</span><span class='tstring_end'>'</span></span><span class='op'>+</span><span class='id identifier rubyid_element_id'>element_id</span><span class='op'>+</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>&quot; value=&quot;</span><span class='tstring_end'>'</span></span><span class='op'>+</span><span class='id identifier rubyid_value'>value</span><span class='op'>+</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>&quot; /&gt;&lt;/span&gt;</span><span class='tstring_end'>'</span></span>
	<span class='kw'>return</span> <span class='id identifier rubyid_input_string'>input_string</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="get_other_input_element_by_arm-instance_method">
  
    - (<tt>string</tt>) <strong>get_other_input_element_by_arm</strong>(value, id, arm, model) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
get_other_input_element_by_arm if other is selected, create a text input.
populate it with the value and name it  accordingly
</p>


  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='name'>value</span>
      
      
        <span class='type'>(<tt>string</tt>)</span>
      
      
      
    </li>
  
    <li>
      
        <span class='name'>id</span>
      
      
        <span class='type'>(<tt>integer</tt>)</span>
      
      
      
    </li>
  
    <li>
      
        <span class='name'>arm</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Arm.html" title="Arm (class)">Arm</a></span></tt>)</span>
      
      
      
    </li>
  
    <li>
      
        <span class='name'>model</span>
      
      
        <span class='type'>(<tt>string</tt>)</span>
      
      
      
    </li>
  
</ul>

<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>string</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


581
582
583
584
585
586
587</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/helpers/application_helper.rb', line 581</span>

<span class='kw'>def</span> <span class='id identifier rubyid_get_other_input_element_by_arm'>get_other_input_element_by_arm</span><span class='lparen'>(</span><span class='id identifier rubyid_value'>value</span><span class='comma'>,</span> <span class='id identifier rubyid_id'>id</span><span class='comma'>,</span> <span class='id identifier rubyid_arm'>arm</span><span class='comma'>,</span> <span class='id identifier rubyid_model'>model</span><span class='rparen'>)</span>
	<span class='id identifier rubyid_element_name'>element_name</span> <span class='op'>=</span> <span class='id identifier rubyid_model'>model</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>[</span><span class='tstring_end'>'</span></span> <span class='op'>+</span> <span class='id identifier rubyid_id'>id</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>_</span><span class='tstring_end'>'</span></span> <span class='op'>+</span> <span class='id identifier rubyid_arm'>arm</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>]</span><span class='tstring_end'>'</span></span>
	<span class='id identifier rubyid_element_id'>element_id</span> <span class='op'>=</span> <span class='id identifier rubyid_model'>model</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>_</span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span> <span class='id identifier rubyid_id'>id</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>_</span><span class='tstring_end'>'</span></span> <span class='op'>+</span> <span class='id identifier rubyid_arm'>arm</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>_input</span><span class='tstring_end'>&quot;</span></span>
	<span class='id identifier rubyid_span_id'>span_id</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>other_</span><span class='tstring_end'>'</span></span><span class='op'>+</span><span class='id identifier rubyid_model'>model</span><span class='op'>+</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>_</span><span class='tstring_end'>'</span></span> <span class='op'>+</span> <span class='id identifier rubyid_id'>id</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>_</span><span class='tstring_end'>'</span></span> <span class='op'>+</span> <span class='id identifier rubyid_arm'>arm</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span>
	<span class='id identifier rubyid_input_string'>input_string</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>&lt;br/&gt;&lt;span id=&quot;</span><span class='tstring_end'>'</span></span><span class='op'>+</span><span class='id identifier rubyid_span_id'>span_id</span><span class='op'>+</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>&quot;&gt;Please Specify:&lt;input class=&quot;editable_field&quot; title=&quot;option&quot; type=&quot;text&quot; name=&quot;</span><span class='tstring_end'>'</span></span><span class='op'>+</span><span class='id identifier rubyid_element_name'>element_name</span><span class='op'>+</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>&quot; id=&quot;</span><span class='tstring_end'>'</span></span><span class='op'>+</span><span class='id identifier rubyid_element_id'>element_id</span><span class='op'>+</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>&quot; value=&quot;</span><span class='tstring_end'>'</span></span><span class='op'>+</span><span class='id identifier rubyid_value'>value</span><span class='op'>+</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>&quot; /&gt;&lt;/span&gt;</span><span class='tstring_end'>'</span></span>
	<span class='kw'>return</span> <span class='id identifier rubyid_input_string'>input_string</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="get_page_info-instance_method">
  
    - (<tt>array</tt>) <strong>get_page_info</strong>(request) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
return an array indicating the section we&#8217;re in as well as the ID of
whatever area we&#8217;re looking at. The ID should be for a project, a
study, or an extraction form.
</p>


  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='name'>request</span>
      
      
        <span class='type'>(<tt>string</tt>)</span>
      
      
      
    </li>
  
</ul>

<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>array</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>
returns an array containing: object type (extraction_form_id, study_id or
project_id), object id and page name
</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


711
712
713
714
715
716
717
718
719
720
721
722
723
724
725
726
727
728
729
730
731
732
733
734
735</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/helpers/application_helper.rb', line 711</span>

<span class='kw'>def</span> <span class='id identifier rubyid_get_page_info'>get_page_info</span><span class='lparen'>(</span><span class='id identifier rubyid_request'>request</span><span class='rparen'>)</span>
	<span class='id identifier rubyid_request'>request</span> <span class='op'>=</span> <span class='id identifier rubyid_request'>request</span><span class='period'>.</span><span class='id identifier rubyid_split'>split</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
	<span class='id identifier rubyid_obj_type'>obj_type</span> <span class='op'>=</span> <span class='kw'>nil</span>
	<span class='id identifier rubyid_obj_id'>obj_id</span> <span class='op'>=</span> <span class='kw'>nil</span>
	<span class='id identifier rubyid_page_name'>page_name</span> <span class='op'>=</span> <span class='kw'>nil</span>
	
	<span class='kw'>if</span> <span class='id identifier rubyid_request'>request</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>extraction_forms</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
	  <span class='id identifier rubyid_obj_type'>obj_type</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>extraction_form_id</span><span class='tstring_end'>&quot;</span></span>
		<span class='id identifier rubyid_obj_id'>obj_id</span> <span class='op'>=</span> <span class='id identifier rubyid_request'>request</span><span class='lbracket'>[</span><span class='id identifier rubyid_request'>request</span><span class='period'>.</span><span class='id identifier rubyid_index'>index</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>extraction_forms</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='op'>+</span><span class='int'>1</span><span class='rbracket'>]</span>
	  <span class='id identifier rubyid_page_name'>page_name</span> <span class='op'>=</span> <span class='id identifier rubyid_request'>request</span><span class='lbracket'>[</span><span class='id identifier rubyid_request'>request</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span><span class='op'>-</span><span class='int'>1</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> 
	
	<span class='kw'>elsif</span> <span class='id identifier rubyid_request'>request</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>studies</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='op'>&amp;&amp;</span> <span class='lparen'>(</span><span class='id identifier rubyid_request'>request</span><span class='period'>.</span><span class='id identifier rubyid_index'>index</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>studies</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='op'>&lt;</span> <span class='id identifier rubyid_request'>request</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span><span class='op'>-</span><span class='int'>1</span><span class='rparen'>)</span>
		<span class='id identifier rubyid_obj_type'>obj_type</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>study_id</span><span class='tstring_end'>&quot;</span></span>
		<span class='id identifier rubyid_obj_id'>obj_id</span> <span class='op'>=</span> <span class='id identifier rubyid_request'>request</span><span class='lbracket'>[</span><span class='id identifier rubyid_request'>request</span><span class='period'>.</span><span class='id identifier rubyid_index'>index</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>studies</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='op'>+</span> <span class='int'>1</span><span class='rbracket'>]</span>
		<span class='id identifier rubyid_page_name'>page_name</span> <span class='op'>=</span> <span class='id identifier rubyid_request'>request</span><span class='lbracket'>[</span><span class='id identifier rubyid_request'>request</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span><span class='op'>-</span><span class='int'>1</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span>
		
	<span class='kw'>elsif</span> <span class='id identifier rubyid_request'>request</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>projects</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='op'>&amp;&amp;</span> <span class='lparen'>(</span><span class='id identifier rubyid_request'>request</span><span class='period'>.</span><span class='id identifier rubyid_index'>index</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>projects</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='op'>&lt;</span> <span class='id identifier rubyid_request'>request</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span><span class='op'>-</span><span class='int'>1</span><span class='rparen'>)</span>
		<span class='id identifier rubyid_obj_type'>obj_type</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>project_id</span><span class='tstring_end'>&quot;</span></span>
		<span class='id identifier rubyid_obj_id'>obj_id</span> <span class='op'>=</span> <span class='id identifier rubyid_request'>request</span><span class='lbracket'>[</span><span class='id identifier rubyid_request'>request</span><span class='period'>.</span><span class='id identifier rubyid_index'>index</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>projects</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='op'>+</span> <span class='int'>1</span><span class='rbracket'>]</span>
		<span class='id identifier rubyid_page_name'>page_name</span> <span class='op'>=</span> <span class='id identifier rubyid_request'>request</span><span class='lbracket'>[</span><span class='id identifier rubyid_request'>request</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span><span class='op'>-</span><span class='int'>1</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span>
	<span class='kw'>else</span>
		
	<span class='kw'>end</span>	
	<span class='kw'>return</span> <span class='lbracket'>[</span><span class='id identifier rubyid_obj_type'>obj_type</span><span class='comma'>,</span> <span class='id identifier rubyid_obj_id'>obj_id</span><span class='comma'>,</span> <span class='id identifier rubyid_page_name'>page_name</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="get_page_title-instance_method">
  
    - (<tt>string</tt>) <strong>get_page_title</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
return the page title based on the current url
</p>


  </div>
</div>
<div class="tags">
  
<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>string</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>
page title based on url
</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/helpers/application_helper.rb', line 18</span>

<span class='kw'>def</span> <span class='id identifier rubyid_get_page_title'>get_page_title</span>
	<span class='id identifier rubyid_uri'>uri</span> <span class='op'>=</span> <span class='id identifier rubyid_request'>request</span><span class='period'>.</span><span class='id identifier rubyid_request_uri'>request_uri</span>
	<span class='id identifier rubyid_section'>section</span> <span class='op'>=</span> <span class='id identifier rubyid_uri'>uri</span><span class='period'>.</span><span class='id identifier rubyid_split'>split</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_last'>last</span>
	<span class='id identifier rubyid_title'>title</span> <span class='op'>=</span> <span class='kw'>case</span> <span class='id identifier rubyid_section'>section</span>
		<span class='comment'># these should be consistent now
</span>		<span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>questions</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>then</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Key Questions</span><span class='tstring_end'>&quot;</span></span>
		<span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>publications</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>then</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Publication Information</span><span class='tstring_end'>&quot;</span></span>
		<span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>arms</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>then</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Study Arms</span><span class='tstring_end'>&quot;</span></span>
		<span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>design</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>then</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Study Design</span><span class='tstring_end'>&quot;</span></span>
		<span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>baselines</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>then</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Baseline Characteristics</span><span class='tstring_end'>&quot;</span></span>
		<span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>outcomes</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>then</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Outcome Setup</span><span class='tstring_end'>&quot;</span></span>
		<span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>results</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>then</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Results</span><span class='tstring_end'>&quot;</span></span>
		<span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>adverse</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>then</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Adverse Events</span><span class='tstring_end'>&quot;</span></span>
		<span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>quality</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>then</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Study Quality</span><span class='tstring_end'>&quot;</span></span>
		<span class='kw'>else</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>
	<span class='kw'>end</span>
	<span class='kw'>return</span> <span class='id identifier rubyid_title'>title</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="get_selected-instance_method">
  
    - (<tt>Object</tt>) <strong>get_selected</strong>(id, model, obj_string) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
get_selected get the value of the item that should be selected for any of
the input methods above.
</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


423
424
425
426
427
428
429
430
431
432</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/helpers/application_helper.rb', line 423</span>

<span class='kw'>def</span> <span class='id identifier rubyid_get_selected'>get_selected</span><span class='lparen'>(</span><span class='id identifier rubyid_id'>id</span><span class='comma'>,</span> <span class='id identifier rubyid_model'>model</span><span class='comma'>,</span> <span class='id identifier rubyid_obj_string'>obj_string</span><span class='rparen'>)</span>
	<span class='id identifier rubyid_selection'>selection</span> <span class='op'>=</span> <span class='id identifier rubyid_eval'>eval</span><span class='lparen'>(</span><span class='id identifier rubyid_obj_string'>obj_string</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>DataPoint</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_where'>where</span><span class='lparen'>(</span><span class='id identifier rubyid_model'>model</span><span class='op'>+</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>_field_id</span><span class='tstring_end'>&quot;</span></span><span class='op'>=&gt;</span><span class='id identifier rubyid_id'>id</span><span class='comma'>,</span> <span class='symbol'>:study_id</span><span class='op'>=&gt;</span><span class='id identifier rubyid_session'>session</span><span class='lbracket'>[</span><span class='symbol'>:study_id</span><span class='rbracket'>]</span><span class='rparen'>)</span>
	<span class='id identifier rubyid_retVal'>retVal</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
	<span class='kw'>unless</span> <span class='id identifier rubyid_selection'>selection</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span> <span class='op'>||</span> <span class='id identifier rubyid_selection'>selection</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
		<span class='id identifier rubyid_selection'>selection</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_detail'>detail</span><span class='op'>|</span>
			<span class='id identifier rubyid_retVal'>retVal</span> <span class='op'>&lt;&lt;</span> <span class='lbracket'>[</span><span class='id identifier rubyid_detail'>detail</span><span class='period'>.</span><span class='id identifier rubyid_value'>value</span><span class='comma'>,</span><span class='id identifier rubyid_detail'>detail</span><span class='period'>.</span><span class='id identifier rubyid_subquestion_value'>subquestion_value</span><span class='rbracket'>]</span>
		<span class='kw'>end</span>
	<span class='kw'>end</span>
	<span class='kw'>return</span> <span class='id identifier rubyid_retVal'>retVal</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="get_selected_by_arm-instance_method">
  
    - (<tt>string</tt>) <strong>get_selected_by_arm</strong>(id, arm, model, obj_string) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
get the value of the item that should be selected for any of the input
methods above when they are entered for each arm.
</p>


  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='name'>id</span>
      
      
        <span class='type'>(<tt>integer</tt>)</span>
      
      
      
    </li>
  
    <li>
      
        <span class='name'>arm</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Arm.html" title="Arm (class)">Arm</a></span></tt>)</span>
      
      
      
    </li>
  
    <li>
      
        <span class='name'>model</span>
      
      
        <span class='type'>(<tt>string</tt>)</span>
      
      
      
    </li>
  
    <li>
      
        <span class='name'>obj_string</span>
      
      
        <span class='type'>(<tt>string</tt>)</span>
      
      
      
    </li>
  
</ul>

<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>string</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


597
598
599
600
601
602
603
604
605
606
607</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/helpers/application_helper.rb', line 597</span>

<span class='kw'>def</span> <span class='id identifier rubyid_get_selected_by_arm'>get_selected_by_arm</span><span class='lparen'>(</span><span class='id identifier rubyid_id'>id</span><span class='comma'>,</span> <span class='id identifier rubyid_arm'>arm</span><span class='comma'>,</span> <span class='id identifier rubyid_model'>model</span><span class='comma'>,</span> <span class='id identifier rubyid_obj_string'>obj_string</span><span class='rparen'>)</span>
	<span class='id identifier rubyid_selection'>selection</span> <span class='op'>=</span> <span class='id identifier rubyid_eval'>eval</span><span class='lparen'>(</span><span class='id identifier rubyid_obj_string'>obj_string</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>DataPoint</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_where'>where</span><span class='lparen'>(</span><span class='id identifier rubyid_model'>model</span><span class='op'>+</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>_field_id</span><span class='tstring_end'>&quot;</span></span><span class='op'>=&gt;</span><span class='id identifier rubyid_id'>id</span><span class='comma'>,</span> <span class='symbol'>:arm_id</span><span class='op'>=&gt;</span><span class='id identifier rubyid_arm'>arm</span><span class='comma'>,</span><span class='symbol'>:study_id</span><span class='op'>=&gt;</span><span class='id identifier rubyid_session'>session</span><span class='lbracket'>[</span><span class='symbol'>:study_id</span><span class='rbracket'>]</span><span class='rparen'>)</span>
	
	<span class='id identifier rubyid_retVal'>retVal</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
	<span class='kw'>unless</span> <span class='id identifier rubyid_selection'>selection</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
		<span class='id identifier rubyid_selection'>selection</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_detail'>detail</span><span class='op'>|</span>
			<span class='id identifier rubyid_retVal'>retVal</span> <span class='op'>&lt;&lt;</span> <span class='lbracket'>[</span><span class='id identifier rubyid_detail'>detail</span><span class='period'>.</span><span class='id identifier rubyid_value'>value</span><span class='comma'>,</span> <span class='id identifier rubyid_detail'>detail</span><span class='period'>.</span><span class='id identifier rubyid_subquestion_val'>subquestion_val</span><span class='rbracket'>]</span>
		<span class='kw'>end</span>
	<span class='kw'>end</span>
	<span class='kw'>return</span> <span class='id identifier rubyid_retVal'>retVal</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="get_study_entry_url-instance_method">
  
    - (<tt>string</tt>) <strong>get_study_entry_url</strong>(pid, sid, eid, name) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
given a project id, study id, extraction form id and page name, create a
link
</p>


  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='name'>pid</span>
      
      
        <span class='type'>(<tt>integer</tt>)</span>
      
      
      
    </li>
  
    <li>
      
        <span class='name'>sid</span>
      
      
        <span class='type'>(<tt>integer</tt>)</span>
      
      
      
    </li>
  
    <li>
      
        <span class='name'>eid</span>
      
      
        <span class='type'>(<tt>integer</tt>)</span>
      
      
      
    </li>
  
    <li>
      
        <span class='name'>name</span>
      
      
        <span class='type'>(<tt>string</tt>)</span>
      
      
      
    </li>
  
</ul>

<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>string</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>
url for study entry
</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


754
755
756</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/helpers/application_helper.rb', line 754</span>

<span class='kw'>def</span> <span class='id identifier rubyid_get_study_entry_url'>get_study_entry_url</span><span class='lparen'>(</span><span class='id identifier rubyid_pid'>pid</span><span class='comma'>,</span> <span class='id identifier rubyid_sid'>sid</span><span class='comma'>,</span> <span class='id identifier rubyid_eid'>eid</span><span class='comma'>,</span> <span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
	<span class='kw'>return</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/projects/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_pid'>pid</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='rbrace'>}</span><span class='tstring_content'>/studies/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_sid'>sid</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='rbrace'>}</span><span class='tstring_content'>/extraction_forms/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_eid'>eid</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='rbrace'>}</span><span class='tstring_content'>/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="image_url-instance_method">
  
    - (<tt>string</tt>) <strong>image_url</strong>(source) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
return image url based on source
</p>


  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='name'>source</span>
      
      
        <span class='type'>(<tt>string</tt>)</span>
      
      
      
    </li>
  
</ul>

<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>string</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>
url for image
</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


761
762
763
764
765
766
767</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/helpers/application_helper.rb', line 761</span>

<span class='kw'>def</span> <span class='id identifier rubyid_image_url'>image_url</span><span class='lparen'>(</span><span class='id identifier rubyid_source'>source</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_abs_path'>abs_path</span> <span class='op'>=</span> <span class='id identifier rubyid_image_path'>image_path</span><span class='lparen'>(</span><span class='id identifier rubyid_source'>source</span><span class='rparen'>)</span>
  <span class='kw'>unless</span> <span class='id identifier rubyid_abs_path'>abs_path</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^http</span><span class='regexp_end'>/</span></span>
    <span class='id identifier rubyid_abs_path'>abs_path</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_request'>request</span><span class='period'>.</span><span class='id identifier rubyid_protocol'>protocol</span><span class='rbrace'>}</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_request'>request</span><span class='period'>.</span><span class='id identifier rubyid_host_with_port'>host_with_port</span><span class='rbrace'>}</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_abs_path'>abs_path</span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
 <span class='id identifier rubyid_abs_path'>abs_path</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="match_extraction_form_section-instance_method">
  
    - (<tt>string</tt>) <strong>match_extraction_form_section</strong>(input) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
match the study url suffix to the name of the section
</p>


  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='name'>input</span>
      
      
        <span class='type'>(<tt>string</tt>)</span>
      
      
      
    </li>
  
</ul>

<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>string</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


772
773
774
775
776
777
778
779
780
781
782
783
784
785
786
787
788</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/helpers/application_helper.rb', line 772</span>

<span class='kw'>def</span> <span class='id identifier rubyid_match_extraction_form_section'>match_extraction_form_section</span> <span class='id identifier rubyid_input'>input</span>
 	<span class='id identifier rubyid_section'>section</span> <span class='op'>=</span> <span class='kw'>case</span> <span class='id identifier rubyid_input'>input</span>
		<span class='comment'># these should be consistent now
</span>		<span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>questions</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>then</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Assign Key Questions</span><span class='tstring_end'>&quot;</span></span>
		<span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>publications</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>then</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Publications</span><span class='tstring_end'>&quot;</span></span>
		<span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>arms</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>then</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Study Arms</span><span class='tstring_end'>&quot;</span></span>
		<span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>design</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>then</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Design Details</span><span class='tstring_end'>&quot;</span></span>
		<span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>baselines</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>then</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Baseline Characteristics</span><span class='tstring_end'>&quot;</span></span>
		<span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>outcomes</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>then</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Outcome Setup</span><span class='tstring_end'>&quot;</span></span>
		<span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>results</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>then</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Outcome Data</span><span class='tstring_end'>&quot;</span></span>
		<span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>adverse</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>then</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Adverse Events</span><span class='tstring_end'>&quot;</span></span>
		<span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>quality</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>then</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Study Quality</span><span class='tstring_end'>&quot;</span></span>
		<span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>import</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>then</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Import from Previous Forms</span><span class='tstring_end'>&quot;</span></span>
		<span class='kw'>else</span> <span class='id identifier rubyid_input'>input</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='period'>.</span><span class='id identifier rubyid_capitalize'>capitalize</span>
	<span class='kw'>end</span>
	<span class='kw'>return</span> <span class='id identifier rubyid_section'>section</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="remove_paragraph_tags-instance_method">
  
    - (<tt>string</tt>) <strong>remove_paragraph_tags</strong>(mytext) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
remove p tags from the beginning and end of key questions
</p>


  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='name'>mytext</span>
      
      
        <span class='type'>(<tt>string</tt>)</span>
      
      
      
    </li>
  
</ul>

<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>string</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


740
741
742
743
744
745
746</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/helpers/application_helper.rb', line 740</span>

<span class='kw'>def</span> <span class='id identifier rubyid_remove_paragraph_tags'>remove_paragraph_tags</span> <span class='id identifier rubyid_mytext'>mytext</span>
	<span class='id identifier rubyid_mytext'>mytext</span><span class='period'>.</span><span class='id identifier rubyid_sub!'>sub!</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^&lt;p&gt;\s*&lt;\/p&gt;</span><span class='regexp_end'>/</span></span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
	<span class='id identifier rubyid_mytext'>mytext</span><span class='period'>.</span><span class='id identifier rubyid_sub!'>sub!</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>(&lt;br&gt;)*&lt;p&gt;\s*&lt;\/p&gt;$</span><span class='regexp_end'>/</span></span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
	<span class='id identifier rubyid_mytext'>mytext</span><span class='period'>.</span><span class='id identifier rubyid_sub!'>sub!</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^&lt;p&gt;</span><span class='regexp_end'>/</span></span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>
	<span class='id identifier rubyid_mytext'>mytext</span><span class='period'>.</span><span class='id identifier rubyid_sub!'>sub!</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>&lt;\/p&gt;?</span><span class='regexp_end'>/</span></span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>
	<span class='kw'>return</span> <span class='id identifier rubyid_mytext'>mytext</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="show_footnotes-instance_method">
  
    - (<tt>string</tt>) <strong>show_footnotes</strong>(val, field_name, study_id) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
find out if any footnotes exist for this field, and if so, attach them to
the  value that is passed back to the form field
</p>


  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='name'>val</span>
      
      
        <span class='type'>(<tt>string</tt>)</span>
      
      
      
    </li>
  
    <li>
      
        <span class='name'>field_name</span>
      
      
        <span class='type'>(<tt>string</tt>)</span>
      
      
      
    </li>
  
    <li>
      
        <span class='name'>study_id</span>
      
      
        <span class='type'>(<tt>integer</tt>)</span>
      
      
      
    </li>
  
</ul>

<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>string</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/helpers/application_helper.rb', line 240</span>

<span class='kw'>def</span> <span class='id identifier rubyid_show_footnotes'>show_footnotes</span><span class='lparen'>(</span><span class='id identifier rubyid_val'>val</span><span class='comma'>,</span> <span class='id identifier rubyid_field_name'>field_name</span><span class='comma'>,</span> <span class='id identifier rubyid_study_id'>study_id</span><span class='rparen'>)</span>
<span class='id identifier rubyid_retVal'>retVal</span> <span class='op'>=</span> <span class='id identifier rubyid_val'>val</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span>
<span class='id identifier rubyid_notes_for_field'>notes_for_field</span> <span class='op'>=</span> <span class='const'>FootnoteField</span><span class='period'>.</span><span class='id identifier rubyid_where'>where</span><span class='lparen'>(</span><span class='symbol'>:study_id</span><span class='op'>=&gt;</span><span class='id identifier rubyid_study_id'>study_id</span><span class='comma'>,</span> <span class='symbol'>:field_name</span><span class='op'>=&gt;</span><span class='id identifier rubyid_field_name'>field_name</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_order'>order</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>footnote_number ASC</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='kw'>unless</span> <span class='id identifier rubyid_notes_for_field'>notes_for_field</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
	<span class='id identifier rubyid_retVal'>retVal</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> [</span><span class='tstring_end'>&quot;</span></span>
	<span class='id identifier rubyid_i'>i</span> <span class='op'>=</span> <span class='int'>0</span>
	<span class='id identifier rubyid_notes_for_field'>notes_for_field</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_note'>note</span><span class='op'>|</span>   				
		<span class='id identifier rubyid_note_num'>note_num</span> <span class='op'>=</span> <span class='id identifier rubyid_note'>note</span><span class='period'>.</span><span class='id identifier rubyid_footnote_number'>footnote_number</span>
		<span class='id identifier rubyid_retVal'>retVal</span> <span class='op'>=</span> <span class='id identifier rubyid_retVal'>retVal</span> <span class='op'>+</span> <span class='id identifier rubyid_note_num'>note_num</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span>
		<span class='kw'>unless</span><span class='lparen'>(</span><span class='id identifier rubyid_i'>i</span> <span class='op'>&gt;=</span> <span class='lparen'>(</span><span class='id identifier rubyid_notes_for_field'>notes_for_field</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span> <span class='op'>-</span> <span class='int'>1</span><span class='rparen'>)</span><span class='rparen'>)</span>
			<span class='id identifier rubyid_retVal'>retVal</span> <span class='op'>=</span> <span class='id identifier rubyid_retVal'>retVal</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>,</span><span class='tstring_end'>&quot;</span></span>
		<span class='kw'>end</span>
		<span class='id identifier rubyid_i'>i</span> <span class='op'>+=</span> <span class='int'>1</span>
	<span class='kw'>end</span>
	<span class='id identifier rubyid_retVal'>retVal</span> <span class='op'>=</span> <span class='id identifier rubyid_retVal'>retVal</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>]</span><span class='tstring_end'>&quot;</span></span>																	
<span class='kw'>end</span>
 <span class='kw'>return</span> <span class='id identifier rubyid_retVal'>retVal</span>  	
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="shrink_text-instance_method">
  
    - (<tt>string</tt>) <strong>shrink_text</strong>(text, num_words = 5) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
shrink the text based on the number of words
</p>


  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='name'>text</span>
      
      
        <span class='type'>(<tt>string</tt>)</span>
      
      
      
    </li>
  
    <li>
      
        <span class='name'>num_words</span>
      
      
        <span class='type'>(<tt>integer</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>5</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>
number of words
</p>
</div>
      
    </li>
  
</ul>

<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>string</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>
shrunken text
</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


229
230
231
232</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/helpers/application_helper.rb', line 229</span>

<span class='kw'>def</span> <span class='id identifier rubyid_shrink_text'>shrink_text</span><span class='lparen'>(</span><span class='id identifier rubyid_text'>text</span><span class='comma'>,</span> <span class='id identifier rubyid_num_words'>num_words</span><span class='op'>=</span><span class='int'>5</span><span class='rparen'>)</span>
	<span class='id identifier rubyid_text'>text</span> <span class='op'>=</span> <span class='id identifier rubyid_text'>text</span><span class='period'>.</span><span class='id identifier rubyid_split'>split</span><span class='lbracket'>[</span><span class='int'>0</span><span class='op'>..</span><span class='lparen'>(</span><span class='id identifier rubyid_num_words'>num_words</span><span class='op'>-</span><span class='int'>1</span><span class='rparen'>)</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> </span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='op'>+</span> <span class='lparen'>(</span><span class='id identifier rubyid_text'>text</span><span class='period'>.</span><span class='id identifier rubyid_split'>split</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span> <span class='op'>&gt;</span> <span class='id identifier rubyid_num_words'>num_words</span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>...</span><span class='tstring_end'>&quot;</span></span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
	<span class='kw'>return</span> <span class='id identifier rubyid_text'>text</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="toggle_ahrq_header-instance_method">
  
    - (<tt>Object</tt>) <strong>toggle_ahrq_header</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
When a user chooses to hide the ahrq header, set a session variable to be
used on subsequent pages
</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


39
40
41
42
43
44
45
46
47
48</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/helpers/application_helper.rb', line 39</span>

<span class='kw'>def</span> <span class='id identifier rubyid_toggle_ahrq_header'>toggle_ahrq_header</span>
	<span class='id identifier rubyid_print'>print</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n\nSESSION is </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_session'>session</span><span class='lbracket'>[</span><span class='symbol'>:ahrq_header</span><span class='rbracket'>]</span><span class='rbrace'>}</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span>
	<span class='kw'>if</span> <span class='lbracket'>[</span><span class='kw'>nil</span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>show</span><span class='tstring_end'>'</span></span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_session'>session</span><span class='lbracket'>[</span><span class='symbol'>:ahrq_header</span><span class='rbracket'>]</span><span class='rparen'>)</span>
		<span class='id identifier rubyid_session'>session</span><span class='lbracket'>[</span><span class='symbol'>:ahrq_header</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>hide</span><span class='tstring_end'>'</span></span>
		<span class='id identifier rubyid_print'>print</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>...SETTING IT TO 'hide'\n</span><span class='tstring_end'>&quot;</span></span>
	<span class='kw'>else</span> 
		<span class='id identifier rubyid_session'>session</span><span class='lbracket'>[</span><span class='symbol'>:ahrq_header</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>show</span><span class='tstring_end'>'</span></span>
		<span class='id identifier rubyid_print'>print</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>...SETTING IT TO 'show'\n</span><span class='tstring_end'>&quot;</span></span>
	<span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>
    
    <div id="footer">
  Generated on Wed Feb  1 16:26:49 2012 by 
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.7.4 (ruby-1.9.2).
</div>

  </body>
</html>